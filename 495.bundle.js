"use strict";(self.webpackChunkaddress_book=self.webpackChunkaddress_book||[]).push([[495],{283:(e,t,s)=>{s.d(t,{cI:()=>ue});var r=s(294),i=e=>"checkbox"===e.type,a=e=>e instanceof Date,n=e=>null==e;const o=e=>"object"==typeof e;var l=e=>!n(e)&&!Array.isArray(e)&&o(e)&&!a(e),u=e=>e.substring(0,e.search(/.\d/))||e,c=e=>e.filter(Boolean),d=e=>void 0===e,f=(e,t,s)=>{if(l(e)&&t){const r=c(t.split(/[,[\].]+?/)).reduce(((e,t)=>n(e)?e:e[t]),e);return d(r)||r===e?d(e[t])?s:e[t]:r}};const y="onChange",g="onSubmit",b="all",m="pattern",h="required";var v=(e,t)=>{const s=Object.assign({},e);return delete s[t],s};r.createContext(null).displayName="RHFContext";var p=e=>l(e)&&!Object.keys(e).length,_=e=>Array.isArray(e)?e:[e],O=(e,t,s,r,i)=>t?Object.assign(Object.assign({},s[e]),{types:Object.assign(Object.assign({},s[e]&&s[e].types?s[e].types:{}),{[r]:i||!0})}):{},w=e=>/^\w*$/.test(e),j=e=>c(e.replace(/["|']|\]/g,"").split(/\.|\[/));function V(e,t,s){let r=-1;const i=w(t)?[t]:j(t),a=i.length,n=a-1;for(;++r<a;){const t=i[r];let a=s;if(r!==n){const s=e[t];a=l(s)||Array.isArray(s)?s:isNaN(+i[r+1])?{}:[]}e[t]=a,e=e[t]}return e}const A=(e,t,s)=>{for(const r of s||Object.keys(e)){const s=f(e,r);if(s){const e=s._f,r=v(s,"_f");if(e&&t(e.name)){if(e.ref.focus&&d(e.ref.focus()))break;if(e.refs){e.refs[0].focus();break}}else l(r)&&A(r,t)}}};function F(e){let t;const s=Array.isArray(e);if(e instanceof Date)t=new Date(e.getTime());else{if(!s&&!l(e))return e;t=s?[]:{};for(const s in e)t[s]=F(e[s])}return t}var x=e=>n(e)||!o(e);function S(e,t){if(x(e)||x(t)||a(e)||a(t))return e===t;const s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;for(const i of s){const s=e[i];if(!r.includes(i))return!1;if("ref"!==i){const e=t[i];if((l(s)||Array.isArray(s))&&(l(e)||Array.isArray(e))?!S(s,e):s!==e)return!1}}return!0}var k=e=>({isOnSubmit:!e||e===g,isOnBlur:"onBlur"===e,isOnChange:e===y,isOnAll:e===b,isOnTouch:"onTouched"===e}),D=e=>"boolean"==typeof e,E=e=>"file"===e.type,C=e=>"function"==typeof e,M=e=>e instanceof HTMLElement,N=e=>"select-multiple"===e.type,T=e=>"radio"===e.type,B=e=>"string"==typeof e,U="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document,L=e=>!M(e)||!document.contains(e),I=(e,t)=>e.map(((e={})=>v(e,t)));class q{constructor(){this.tearDowns=[]}add(e){this.tearDowns.push(e)}unsubscribe(){for(const e of this.tearDowns)e();this.tearDowns=[]}}class P{constructor(e,t){this.observer=e,this.closed=!1,t.add((()=>this.closed=!0))}next(e){this.closed||this.observer.next(e)}}class H{constructor(){this.observers=[]}next(e){for(const t of this.observers)t.next(e)}subscribe(e){const t=new q,s=new P(e,t);return this.observers.push(s),t}unsubscribe(){this.observers=[]}}function R(e,t){const s=w(t)?[t]:j(t),r=1==s.length?e:function(e,t){const s=t.slice(0,-1).length;let r=0;for(;r<s;)e=d(e)?r++:e[t[r++]];return e}(e,s),i=s[s.length-1];let a;r&&delete r[i];for(let t=0;t<s.slice(0,-1).length;t++){let r,i=-1;const n=s.slice(0,-(t+1)),o=n.length-1;for(t>0&&(a=e);++i<n.length;){const t=n[i];r=r?r[t]:e[t],o===i&&(l(r)&&p(r)||Array.isArray(r)&&!r.filter((e=>l(e)&&!p(e)||D(e))).length)&&(a?delete a[t]:delete e[t]),a=r}}return e}const $={value:!1,isValid:!1},W={value:!0,isValid:!0};var Z=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!d(e[0].attributes.value)?d(e[0].value)||""===e[0].value?W:{value:e[0].value,isValid:!0}:W:$}return $},z=(e,{valueAsNumber:t,valueAsDate:s,setValueAs:r})=>d(e)?e:t?""===e?NaN:+e:s?new Date(e):r?r(e):e;const G={isValid:!1,value:null};var J=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),G):G;function K(e){const t=e.ref;var s;if(!(e.refs?e.refs.every((e=>e.disabled)):t.disabled))return E(t)?t.files:T(t)?J(e.refs).value:N(t)?(s=t.options,[...s].filter((({selected:e})=>e)).map((({value:e})=>e))):i(t)?Z(e.refs).value:z(d(t.value)?e.ref.value:t.value,e)}function Q(e,t){if(x(e)||x(t))return t;for(const s in t){const r=e[s],i=t[s];try{e[s]=l(r)&&l(i)||Array.isArray(r)&&Array.isArray(i)?Q(r,i):i}catch(e){}}return e}function X(e,t,s,r,i){let a=-1;for(;++a<e.length;){for(const r in e[a])Array.isArray(e[a][r])?(!s[a]&&(s[a]={}),s[a][r]=[],X(e[a][r],f(t[a]||{},r,[]),s[a][r],s[a],r)):!n(t)&&S(f(t[a]||{},r),e[a][r])?V(s[a]||{},r):s[a]=Object.assign(Object.assign({},s[a]),{[r]:!0});r&&!s.length&&delete r[i]}return s}var Y=(e,t,s)=>Q(X(e,t,s.slice(0,e.length)),X(t,e,s.slice(0,e.length))),ee=(e,t)=>!c(f(e,t,[])).length&&R(e,t),te=e=>B(e)||r.isValidElement(e),se=e=>e instanceof RegExp;function re(e,t,s="validate"){if(te(e)||Array.isArray(e)&&e.every(te)||D(e)&&!e)return{type:s,message:te(e)?e:"",ref:t}}var ie=e=>l(e)&&!se(e)?e:{value:e,message:""},ae=async(e,t,s,r)=>{const{ref:a,refs:o,required:u,maxLength:c,minLength:d,min:f,max:y,pattern:g,validate:b,name:v,valueAsNumber:_,mount:w,disabled:j}=e._f;if(!w||j)return{};const V=o?o[0]:a,A=e=>{r&&V.reportValidity&&(V.setCustomValidity(D(e)?"":e||" "),V.reportValidity())},F={},x=T(a),S=i(a),k=x||S,M=(_||E(a))&&!a.value||""===t||Array.isArray(t)&&!t.length,N=O.bind(null,v,s,F),U=(e,t,s,r="maxLength",i="minLength")=>{const n=e?t:s;F[v]=Object.assign({type:e?r:i,message:n,ref:a},N(e?r:i,n))};if(u&&(!k&&(M||n(t))||D(t)&&!t||S&&!Z(o).isValid||x&&!J(o).isValid)){const{value:e,message:t}=te(u)?{value:!!u,message:u}:ie(u);if(e&&(F[v]=Object.assign({type:h,message:t,ref:V},N(h,t)),!s))return A(t),F}if(!(M||n(f)&&n(y))){let e,r;const i=ie(y),o=ie(f);if(isNaN(t)){const s=a.valueAsDate||new Date(t);B(i.value)&&(e=s>new Date(i.value)),B(o.value)&&(r=s<new Date(o.value))}else{const s=a.valueAsNumber||parseFloat(t);n(i.value)||(e=s>i.value),n(o.value)||(r=s<o.value)}if((e||r)&&(U(!!e,i.message,o.message,"max","min"),!s))return A(F[v].message),F}if((c||d)&&!M&&B(t)){const e=ie(c),r=ie(d),i=!n(e.value)&&t.length>e.value,a=!n(r.value)&&t.length<r.value;if((i||a)&&(U(i,e.message,r.message),!s))return A(F[v].message),F}if(g&&!M&&B(t)){const{value:e,message:r}=ie(g);if(se(e)&&!t.match(e)&&(F[v]=Object.assign({type:m,message:r,ref:a},N(m,r)),!s))return A(r),F}if(b)if(C(b)){const e=re(await b(t),V);if(e&&(F[v]=Object.assign(Object.assign({},e),N("validate",e.message)),!s))return A(e.message),F}else if(l(b)){let e={};for(const r in b){if(!p(e)&&!s)break;const i=re(await b[r](t),V,r);i&&(e=Object.assign(Object.assign({},i),N(r,i.message)),A(i.message),s&&(F[v]=e))}if(!p(e)&&(F[v]=Object.assign({ref:V},e),!s))return F}return A(!0),F};const ne={mode:g,reValidateMode:y,shouldFocusError:!0},oe="undefined"==typeof window;function le(e={}){let t,s=Object.assign(Object.assign({},ne),e),r={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},o={},y={},g=s.defaultValues||{},m=!1,h=!1,O=0,w={mount:new Set,unMount:new Set,array:new Set,watch:new Set},j={};const q={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},P={watch:new H,control:new H,array:new H,state:new H},$=k(s.mode),W=k(s.reValidateMode),Z=s.criteriaMode===b,G=e=>w.watchAll||w.watch.has(e)||w.watch.has((e.match(/\w+/)||[])[0]),J=(e,t)=>{V(r.errors,e,t),P.state.next({errors:r.errors})},Q=(e,t,s={},r)=>{const a=f(o,e);if(a){const o=a._f;if(o){V(y,e,z(t,o));const a=U&&M(o.ref)&&n(t)?"":t;E(o.ref)&&!B(a)?o.ref.files=a:N(o.ref)?[...o.ref.options].forEach((e=>e.selected=a.includes(e.value))):o.refs?i(o.ref)?o.refs.length>1?o.refs.forEach((e=>e.checked=Array.isArray(a)?!!a.find((t=>t===e.value)):a===e.value)):o.refs[0].checked=!!a:o.refs.forEach((e=>e.checked=e.value===a)):o.ref.value=a,r&&P.control.next({values:ge(),name:e}),(s.shouldDirty||s.shouldTouch)&&X(e,a,s.shouldTouch),s.shouldValidate&&ye(e)}}},X=(e,t,s,i=!0)=>{const a={name:e};let n=!1;if(q.isDirty){const e=r.isDirty;r.isDirty=le(),a.isDirty=r.isDirty,n=e!==a.isDirty}if(q.dirtyFields&&!s){const s=f(r.dirtyFields,e);S(f(g,e),t)?R(r.dirtyFields,e):V(r.dirtyFields,e,!0),a.dirtyFields=r.dirtyFields,n=n||s!==f(r.dirtyFields,e)}const o=f(r.touchedFields,e);return s&&!o&&(V(r.touchedFields,e,s),a.touchedFields=r.touchedFields,n=n||q.touchedFields&&o!==s),n&&i&&P.state.next(a),n?a:{}},te=async e=>s.resolver?await s.resolver(Object.assign({},y),s.context,((e,t,s,r)=>{const i={};for(const s of e){const e=f(t,s);e&&V(i,s,e._f)}return{criteriaMode:s,names:[...e],fields:i,shouldUseNativeValidation:r}})(e||w.mount,o,s.criteriaMode,s.shouldUseNativeValidation)):{},se=async(e,t,i={valid:!0})=>{for(const a in e){const n=e[a];if(n){const e=n._f,a=v(n,"_f");if(e){const a=await ae(n,f(y,e.name),Z,s.shouldUseNativeValidation);if(a[e.name]&&(i.valid=!1,t))break;t||(a[e.name]?V(r.errors,e.name,a[e.name]):R(r.errors,e.name))}a&&await se(a,t,i)}}return i.valid},re=async({type:a,target:n,target:{value:l,name:c,type:d}})=>{const g=f(o,c);if(g){let m,h;const v=d?K(g._f):l,_="blur"===a,w=!((b=g._f).mount&&(b.required||b.min||b.max||b.maxLength||b.minLength||b.pattern||b.validate)||s.resolver||f(r.errors,c)||g._f.deps)||((e,t,s,r,i)=>!i.isOnAll&&(!s&&i.isOnTouch?!(t||e):(s?r.isOnBlur:i.isOnBlur)?!e:!(s?r.isOnChange:i.isOnChange)||e))(_,f(r.touchedFields,c),r.isSubmitted,W,$),A=!_&&G(c);V(y,c,v);const F=X(c,v,_,!1),x=!p(F)||A;if(!_&&P.watch.next({name:c,type:a}),w)return x&&P.state.next(Object.assign({name:c},A?{}:F));if(!_&&A&&P.state.next({}),j[c]=(j[c],1),q.isValidating&&P.state.next({isValidating:!0}),s.resolver){const{errors:e}=await te([c]);if(m=f(e,c),i(n)&&!m){const t=u(c),s=f(o,t);if(Array.isArray(s)&&s.every((e=>e._f&&i(e._f.ref)))){const s=f(e,t,{});s.type&&(m=s),c=t}}h=p(e)}else m=(await ae(g,f(y,c),Z,s.shouldUseNativeValidation))[c],h=await ue(!0);g._f.deps&&ye(g._f.deps),(async(s,i,a,n,o)=>{const l=f(r.errors,i),u=q.isValid&&r.isValid!==a;var c,d;if(e.delayError&&n?(t=t||(c=J,d=e.delayError,(...e)=>{clearTimeout(O),O=window.setTimeout((()=>c(...e)),d)}),t(i,n)):(clearTimeout(O),n?V(r.errors,i,n):R(r.errors,i)),((n?!S(l,n):l)||!p(o)||u)&&!s){const e=Object.assign(Object.assign(Object.assign({},o),u?{isValid:a}:{}),{errors:r.errors,name:i});r=Object.assign(Object.assign({},r),e),P.state.next(e)}j[i]--,q.isValidating&&!j[i]&&(P.state.next({isValidating:!1}),j={})})(!1,c,h,m,F)}var b},ie=(e,t,s)=>{const r=f(o,e);if(r){const i=f(y,e),a=d(i)?f(g,e):i;d(a)||t&&t.defaultChecked||s?V(y,e,s?a:K(r._f)):Q(e,a)}h&&ue()},le=(e,t)=>(e&&t&&V(y,e,t),!S(Object.assign({},ge()),g)),ue=async e=>{let t=!1;return q.isValid&&(t=s.resolver?p((await te()).errors):await se(o,!0),e||t===r.isValid||(r.isValid=t,P.state.next({isValid:t}))),t},ce=(e,t,s)=>Object.entries(t).forEach((([t,r])=>{const i=`${e}.${t}`,n=f(o,i);!w.array.has(e)&&x(r)&&(!n||n._f)||a(r)?Q(i,r,s,!0):ce(i,r,s)})),de=(e,t,s,r)=>{const i=Object.assign({},s||h?y:d(t)?g:B(e)?{[e]:t}:t);if(!e)return r&&(w.watchAll=!0),i;const a=[];for(const t of _(e))r&&w.watch.add(t),a.push(f(i,t));return Array.isArray(e)?a:a[0]},fe=(e,t="")=>{for(const s in e){const r=e[s],i=t+(t?".":"")+s,a=f(o,i);a&&a._f||(l(r)&&Object.keys(r).length||Array.isArray(r)&&r.length?fe(r,i):a||V(y,i,r))}},ye=async(e,t={})=>{const i=_(e);let a;if(P.state.next({isValidating:!0}),s.resolver){const t=await(async e=>{const{errors:t}=await te();if(e)for(const s of e){const e=f(t,s);e?V(r.errors,s,e):R(r.errors,s)}else r.errors=t;return t})(d(e)?e:i);a=e?i.every((e=>!f(t,e))):p(t)}else e?(a=(await Promise.all(i.map((async e=>{const t=f(o,e);return await se(t._f?{[e]:t}:t)})))).every(Boolean),ue()):a=await se(o);return P.state.next(Object.assign(Object.assign({},B(e)?{name:e}:{}),{errors:r.errors,isValid:a,isValidating:!1})),t.shouldFocus&&!a&&A(o,(e=>f(r.errors,e)),e?i:w.mount),a},ge=e=>{const t=Object.assign(Object.assign({},g),h?y:{});return d(e)?t:B(e)?f(t,e):e.map((e=>f(t,e)))},be=(e,t={})=>{for(const i of e?_(e):w.mount)w.mount.delete(i),w.array.delete(i),f(o,i)&&(t.keepValue||(R(o,i),R(y,i)),!t.keepError&&R(r.errors,i),!t.keepDirty&&R(r.dirtyFields,i),!t.keepTouched&&R(r.touchedFields,i),!s.shouldUnregister&&!t.keepDefaultValue&&R(g,i));P.watch.next({}),P.state.next(Object.assign(Object.assign({},r),t.keepDirty?{isDirty:le()}:{})),!t.keepIsValid&&ue()},me=(e,t={})=>{const r=f(o,e);return V(o,e,{_f:Object.assign(Object.assign(Object.assign({},r&&r._f?r._f:{ref:{name:e}}),{name:e,mount:!0}),t)}),d(t.value)||V(y,e,t.value),D(t.disabled)&&r&&V(y,e,t.disabled?void 0:f(y,e,K(r._f))),w.mount.add(e),!r&&ie(e,void 0,!0),oe?{name:e}:Object.assign(Object.assign({name:e},d(t.disabled)?{}:{disabled:t.disabled}),{onChange:re,onBlur:re,ref:r=>{if(r)((e,t,s)=>{me(e,s);let r=f(o,e);const a=d(t.value)&&t.querySelectorAll&&t.querySelectorAll("input,select,textarea")[0]||t,n=(e=>T(e)||i(e))(a);a===r._f.ref||n&&c(r._f.refs||[]).find((e=>e===a))||(r={_f:n?Object.assign(Object.assign({},r._f),{refs:[...c(r._f.refs||[]).filter((e=>M(e)&&document.contains(e))),a],ref:{type:a.type,name:e}}):Object.assign(Object.assign({},r._f),{ref:a})},V(o,e,r),(!s||!s.disabled)&&ie(e,a))})(e,r,t);else{const r=f(o,e,{}),i=s.shouldUnregister||t.shouldUnregister;r._f&&(r._f.mount=!1),i&&(!((e,t)=>[...e].some((e=>u(t)===e)))(w.array,e)||!m)&&w.unMount.add(e)}}})};return{control:{register:me,unregister:be,_getWatch:de,_getIsDirty:le,_updateValid:ue,_updateValues:fe,_removeFields:()=>{for(const e of w.unMount){const t=f(o,e);t&&(t._f.refs?t._f.refs.every(L):L(t._f.ref))&&be(e)}w.unMount=new Set},_updateFieldArray:(e,t,s,i,a=[],n=!0,l=!0)=>{let u;const c=I(a,e);if(m=!0,l&&f(o,t)&&(u=s(f(o,t),i.argA,i.argB),n&&V(o,t,u)),u=s(f(y,t),i.argA,i.argB),n&&V(y,t,u),Array.isArray(f(r.errors,t))){const e=s(f(r.errors,t),i.argA,i.argB);n&&V(r.errors,t,e),ee(r.errors,t)}if(q.touchedFields&&f(r.touchedFields,t)){const e=s(f(r.touchedFields,t),i.argA,i.argB);n&&V(r.touchedFields,t,e),ee(r.touchedFields,t)}(q.dirtyFields||q.isDirty)&&(V(r.dirtyFields,t,Y(I(c,e),f(g,t,[]),f(r.dirtyFields,t,[]))),c&&V(r.dirtyFields,t,Y(I(c,e),f(g,t,[]),f(r.dirtyFields,t,[]))),ee(r.dirtyFields,t)),P.state.next({isDirty:le(t,I(c,e)),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})},_getFieldArrayValue:e=>f(h?y:g,e,[]),_subjects:P,_shouldUnregister:s.shouldUnregister,_proxyFormState:q,get _fields(){return o},set _fields(e){o=e},get _formValues(){return y},set _formValues(e){y=e},get _isMounted(){return h},set _isMounted(e){h=e},get _defaultValues(){return g},set _defaultValues(e){g=e},get _names(){return w},set _names(e){w=e},get _isInAction(){return m},set _isInAction(e){m=e},get _formState(){return r},set _formState(e){r=e},_updateProps:e=>{s=Object.assign(Object.assign({},ne),e)}},trigger:ye,register:me,handleSubmit:(e,t)=>async i=>{i&&(i.preventDefault&&i.preventDefault(),i.persist&&i.persist());let a=!0,n=Object.assign({},y);P.state.next({isSubmitting:!0});try{if(s.resolver){const{errors:e,values:t}=await te();r.errors=e,n=t}else await se(o);p(r.errors)&&Object.keys(r.errors).every((e=>f(n,e)))?(P.state.next({errors:{},isSubmitting:!0}),await e(n,i)):(t&&await t(r.errors,i),s.shouldFocusError&&A(o,(e=>f(r.errors,e)),w.mount))}catch(e){throw a=!1,e}finally{r.isSubmitted=!0,P.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:p(r.errors)&&a,submitCount:r.submitCount+1,errors:r.errors})}},watch:(e,t)=>C(e)?P.watch.subscribe({next:s=>e(de(void 0,t),s)}):de(e,t,!1,!0),setValue:(e,t,s={})=>{const i=f(o,e),a=w.array.has(e);V(y,e,t),a?(P.array.next({name:e,values:y}),(q.isDirty||q.dirtyFields)&&s.shouldDirty&&(V(r.dirtyFields,e,Y(t,f(g,e,[]),f(r.dirtyFields,e,[]))),P.state.next({name:e,dirtyFields:r.dirtyFields,isDirty:le(e,t)}))):!i||i._f||n(t)?Q(e,t,s,!0):ce(e,t,s),G(e)&&P.state.next({}),P.watch.next({name:e})},getValues:ge,reset:(t,s={})=>{const i=t||g,a=F(i);if(s.keepValues||(y=e.shouldUnregister?{}:a),U&&!s.keepValues)for(const e of w.mount){const t=f(o,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;try{M(e)&&e.closest("form").reset();break}catch(e){}}}s.keepDefaultValues||(g=Object.assign({},i)),s.keepValues||(o={},P.control.next({values:s.keepDefaultValues?g:Object.assign({},i)}),P.watch.next({}),P.array.next({values:a})),w={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},P.state.next({submitCount:s.keepSubmitCount?r.submitCount:0,isDirty:s.keepDirty?r.isDirty:!!s.keepDefaultValues&&S(t,g),isSubmitted:!!s.keepIsSubmitted&&r.isSubmitted,dirtyFields:s.keepDirty?r.dirtyFields:{},touchedFields:s.keepTouched?r.touchedFields:{},errors:s.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1}),h=!q.isValid||!!s.keepIsValid},clearErrors:e=>{e?_(e).forEach((e=>R(r.errors,e))):r.errors={},P.state.next({errors:r.errors})},unregister:be,setError:(e,t,s)=>{const i=(f(o,e,{_f:{}})._f||{}).ref;V(r.errors,e,Object.assign(Object.assign({},t),{ref:i})),P.state.next({name:e,errors:r.errors,isValid:!1}),s&&s.shouldFocus&&i&&i.focus&&i.focus()},setFocus:e=>f(o,e)._f.ref.focus()}}function ue(e={}){const t=r.useRef(),[s,i]=r.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}});t.current?t.current.control._updateProps(e):t.current=Object.assign(Object.assign({},le(e)),{formState:s});const a=t.current.control;return r.useEffect((()=>{const e=a._subjects.state.subscribe({next(e){((e,t,s)=>{const r=v(e,"name");return p(r)||Object.keys(r).length>=Object.keys(t).length||Object.keys(r).find((e=>t[e]===(!s||b)))})(e,a._proxyFormState,!0)&&(a._formState=Object.assign(Object.assign({},a._formState),e),i(Object.assign({},a._formState)))}});return()=>{e.unsubscribe()}}),[a]),r.useEffect((()=>{a._isMounted||(a._isMounted=!0,a._proxyFormState.isValid&&a._updateValid(),!e.shouldUnregister&&a._updateValues(a._defaultValues)),a._removeFields()})),t.current.formState=((e,t,s,r=!0)=>{function i(i){return()=>{if(i in e)return t[i]!==b&&(t[i]=!r||b),s&&(s[i]=!0),e[i]}}const a={};for(const t in e)Object.defineProperty(a,t,{get:i(t)});return a})(s,a._proxyFormState),t.current}},942:(e,t,s)=>{function r(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}s.d(t,{Z:()=>r})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RixFQUFRMkUsY0FBYzNFLEVBQVFaLGlCQUU3RFksRUFBUXFHLG1CQUVacUMsRUFBYTVULFFBQVE2VCxVQTlvREQsRUFBQ0EsRUFBVzdJLEVBQWlCbUosRUFBcUJGLEdBQVMsS0FDL0UsU0FBU0csRUFBYUMsR0FDbEIsTUFBTyxLQUNILEdBQUlBLEtBQVFSLEVBS1IsT0FKSTdJLEVBQWdCcUosS0FBVXpXLElBQzFCb04sRUFBZ0JxSixJQUFTSixHQUFVclcsR0FFdkN1VyxJQUF3QkEsRUFBb0JFLElBQVEsR0FDN0NSLEVBQVVRLElBSzdCLE1BQU03VyxFQUFTLEdBQ2YsSUFBSyxNQUFNRyxLQUFPa1csRUFDZDVWLE9BQU9xVyxlQUFlOVcsRUFBUUcsRUFBSyxDQUMvQlAsSUFBS2dYLEVBQWF6VyxLQUcxQixPQUFPSCxHQTJuRDBCK1csQ0FBa0JWLEVBQVczSSxFQUFRRixpQkFDL0Q0SSxFQUFhNVQsVSxjQ3Z0RFQsU0FBU3dVLEVBQWdCblgsRUFBS00sRUFBS3RCLEdBWWhELE9BWElzQixLQUFPTixFQUNUWSxPQUFPcVcsZUFBZWpYLEVBQUtNLEVBQUssQ0FDOUJ0QixNQUFPQSxFQUNQb1ksWUFBWSxFQUNaQyxjQUFjLEVBQ2RDLFVBQVUsSUFHWnRYLEVBQUlNLEdBQU90QixFQUdOZ0IsRSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1ob29rLWZvcm0vZGlzdC9pbmRleC5lc20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxudmFyIGlzQ2hlY2tCb3hJbnB1dCA9IChlbGVtZW50KSA9PiBlbGVtZW50LnR5cGUgPT09ICdjaGVja2JveCc7XG5cbnZhciBpc0RhdGVPYmplY3QgPSAoZGF0YSkgPT4gZGF0YSBpbnN0YW5jZW9mIERhdGU7XG5cbnZhciBpc051bGxPclVuZGVmaW5lZCA9ICh2YWx1ZSkgPT4gdmFsdWUgPT0gbnVsbDtcblxuY29uc3QgaXNPYmplY3RUeXBlID0gKHZhbHVlKSA9PiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnO1xyXG52YXIgaXNPYmplY3QgPSAodmFsdWUpID0+ICFpc051bGxPclVuZGVmaW5lZCh2YWx1ZSkgJiZcclxuICAgICFBcnJheS5pc0FycmF5KHZhbHVlKSAmJlxyXG4gICAgaXNPYmplY3RUeXBlKHZhbHVlKSAmJlxyXG4gICAgIWlzRGF0ZU9iamVjdCh2YWx1ZSk7XG5cbnZhciBnZXRDb250cm9sbGVyVmFsdWUgPSAoZXZlbnQpID0+IGlzT2JqZWN0KGV2ZW50KSAmJiBldmVudC50YXJnZXRcclxuICAgID8gaXNDaGVja0JveElucHV0KGV2ZW50LnRhcmdldClcclxuICAgICAgICA/IGV2ZW50LnRhcmdldC5jaGVja2VkXHJcbiAgICAgICAgOiBldmVudC50YXJnZXQudmFsdWVcclxuICAgIDogZXZlbnQ7XG5cbnZhciBnZXROb2RlUGFyZW50TmFtZSA9IChuYW1lKSA9PiBuYW1lLnN1YnN0cmluZygwLCBuYW1lLnNlYXJjaCgvLlxcZC8pKSB8fCBuYW1lO1xuXG52YXIgaXNOYW1lSW5GaWVsZEFycmF5ID0gKG5hbWVzLCBuYW1lKSA9PiBbLi4ubmFtZXNdLnNvbWUoKGN1cnJlbnQpID0+IGdldE5vZGVQYXJlbnROYW1lKG5hbWUpID09PSBjdXJyZW50KTtcblxudmFyIGNvbXBhY3QgPSAodmFsdWUpID0+IHZhbHVlLmZpbHRlcihCb29sZWFuKTtcblxudmFyIGlzVW5kZWZpbmVkID0gKHZhbCkgPT4gdmFsID09PSB1bmRlZmluZWQ7XG5cbnZhciBnZXQgPSAob2JqLCBwYXRoLCBkZWZhdWx0VmFsdWUpID0+IHtcclxuICAgIGlmIChpc09iamVjdChvYmopICYmIHBhdGgpIHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBjb21wYWN0KHBhdGguc3BsaXQoL1ssW1xcXS5dKz8vKSkucmVkdWNlKChyZXN1bHQsIGtleSkgPT4gKGlzTnVsbE9yVW5kZWZpbmVkKHJlc3VsdCkgPyByZXN1bHQgOiByZXN1bHRba2V5XSksIG9iaik7XHJcbiAgICAgICAgcmV0dXJuIGlzVW5kZWZpbmVkKHJlc3VsdCkgfHwgcmVzdWx0ID09PSBvYmpcclxuICAgICAgICAgICAgPyBpc1VuZGVmaW5lZChvYmpbcGF0aF0pXHJcbiAgICAgICAgICAgICAgICA/IGRlZmF1bHRWYWx1ZVxyXG4gICAgICAgICAgICAgICAgOiBvYmpbcGF0aF1cclxuICAgICAgICAgICAgOiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG59O1xuXG5jb25zdCBFVkVOVFMgPSB7XHJcbiAgICBCTFVSOiAnYmx1cicsXHJcbiAgICBDSEFOR0U6ICdjaGFuZ2UnLFxyXG59O1xyXG5jb25zdCBWQUxJREFUSU9OX01PREUgPSB7XHJcbiAgICBvbkJsdXI6ICdvbkJsdXInLFxyXG4gICAgb25DaGFuZ2U6ICdvbkNoYW5nZScsXHJcbiAgICBvblN1Ym1pdDogJ29uU3VibWl0JyxcclxuICAgIG9uVG91Y2hlZDogJ29uVG91Y2hlZCcsXHJcbiAgICBhbGw6ICdhbGwnLFxyXG59O1xyXG5jb25zdCBJTlBVVF9WQUxJREFUSU9OX1JVTEVTID0ge1xyXG4gICAgbWF4OiAnbWF4JyxcclxuICAgIG1pbjogJ21pbicsXHJcbiAgICBtYXhMZW5ndGg6ICdtYXhMZW5ndGgnLFxyXG4gICAgbWluTGVuZ3RoOiAnbWluTGVuZ3RoJyxcclxuICAgIHBhdHRlcm46ICdwYXR0ZXJuJyxcclxuICAgIHJlcXVpcmVkOiAncmVxdWlyZWQnLFxyXG4gICAgdmFsaWRhdGU6ICd2YWxpZGF0ZScsXHJcbn07XG5cbnZhciBvbWl0ID0gKHNvdXJjZSwga2V5KSA9PiB7XHJcbiAgICBjb25zdCBjb3B5ID0gT2JqZWN0LmFzc2lnbih7fSwgc291cmNlKTtcclxuICAgIGRlbGV0ZSBjb3B5W2tleV07XHJcbiAgICByZXR1cm4gY29weTtcclxufTtcblxuY29uc3QgRm9ybUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xyXG5Gb3JtQ29udGV4dC5kaXNwbGF5TmFtZSA9ICdSSEZDb250ZXh0JztcclxuY29uc3QgdXNlRm9ybUNvbnRleHQgPSAoKSA9PiBSZWFjdC51c2VDb250ZXh0KEZvcm1Db250ZXh0KTtcclxuY29uc3QgRm9ybVByb3ZpZGVyID0gKHByb3BzKSA9PiAoUmVhY3QuY3JlYXRlRWxlbWVudChGb3JtQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogb21pdChwcm9wcywgJ2NoaWxkcmVuJykgfSwgcHJvcHMuY2hpbGRyZW4pKTtcblxudmFyIGdldFByb3h5Rm9ybVN0YXRlID0gKGZvcm1TdGF0ZSwgX3Byb3h5Rm9ybVN0YXRlLCBsb2NhbFByb3h5Rm9ybVN0YXRlLCBpc1Jvb3QgPSB0cnVlKSA9PiB7XHJcbiAgICBmdW5jdGlvbiBjcmVhdGVHZXR0ZXIocHJvcCkge1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChwcm9wIGluIGZvcm1TdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKF9wcm94eUZvcm1TdGF0ZVtwcm9wXSAhPT0gVkFMSURBVElPTl9NT0RFLmFsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF9wcm94eUZvcm1TdGF0ZVtwcm9wXSA9ICFpc1Jvb3QgfHwgVkFMSURBVElPTl9NT0RFLmFsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxvY2FsUHJveHlGb3JtU3RhdGUgJiYgKGxvY2FsUHJveHlGb3JtU3RhdGVbcHJvcF0gPSB0cnVlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmb3JtU3RhdGVbcHJvcF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgY29uc3QgcmVzdWx0ID0ge307XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBmb3JtU3RhdGUpIHtcclxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVzdWx0LCBrZXksIHtcclxuICAgICAgICAgICAgZ2V0OiBjcmVhdGVHZXR0ZXIoa2V5KSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn07XG5cbnZhciBpc0VtcHR5T2JqZWN0ID0gKHZhbHVlKSA9PiBpc09iamVjdCh2YWx1ZSkgJiYgIU9iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGg7XG5cbnZhciBzaG91bGRSZW5kZXJGb3JtU3RhdGUgPSAoZm9ybVN0YXRlRGF0YSwgX3Byb3h5Rm9ybVN0YXRlLCBpc1Jvb3QpID0+IHtcclxuICAgIGNvbnN0IGZvcm1TdGF0ZSA9IG9taXQoZm9ybVN0YXRlRGF0YSwgJ25hbWUnKTtcclxuICAgIHJldHVybiAoaXNFbXB0eU9iamVjdChmb3JtU3RhdGUpIHx8XHJcbiAgICAgICAgT2JqZWN0LmtleXMoZm9ybVN0YXRlKS5sZW5ndGggPj0gT2JqZWN0LmtleXMoX3Byb3h5Rm9ybVN0YXRlKS5sZW5ndGggfHxcclxuICAgICAgICBPYmplY3Qua2V5cyhmb3JtU3RhdGUpLmZpbmQoKGtleSkgPT4gX3Byb3h5Rm9ybVN0YXRlW2tleV0gPT09XHJcbiAgICAgICAgICAgICghaXNSb290IHx8IFZBTElEQVRJT05fTU9ERS5hbGwpKSk7XHJcbn07XG5cbnZhciBjb252ZXJ0VG9BcnJheVBheWxvYWQgPSAodmFsdWUpID0+IEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdO1xuXG5mdW5jdGlvbiB1c2VGb3JtU3RhdGUocHJvcHMpIHtcclxuICAgIGNvbnN0IG1ldGhvZHMgPSB1c2VGb3JtQ29udGV4dCgpO1xyXG4gICAgY29uc3QgeyBjb250cm9sID0gbWV0aG9kcy5jb250cm9sLCBkaXNhYmxlZCwgbmFtZSB9ID0gcHJvcHMgfHwge307XHJcbiAgICBjb25zdCBuYW1lUmVmID0gUmVhY3QudXNlUmVmKG5hbWUpO1xyXG4gICAgY29uc3QgW2Zvcm1TdGF0ZSwgdXBkYXRlRm9ybVN0YXRlXSA9IFJlYWN0LnVzZVN0YXRlKGNvbnRyb2wuX2Zvcm1TdGF0ZSk7XHJcbiAgICBjb25zdCBfbG9jYWxQcm94eUZvcm1TdGF0ZSA9IFJlYWN0LnVzZVJlZih7XHJcbiAgICAgICAgaXNEaXJ0eTogZmFsc2UsXHJcbiAgICAgICAgZGlydHlGaWVsZHM6IGZhbHNlLFxyXG4gICAgICAgIHRvdWNoZWRGaWVsZHM6IGZhbHNlLFxyXG4gICAgICAgIGlzVmFsaWRhdGluZzogZmFsc2UsXHJcbiAgICAgICAgaXNWYWxpZDogZmFsc2UsXHJcbiAgICAgICAgZXJyb3JzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gICAgbmFtZVJlZi5jdXJyZW50ID0gbmFtZTtcclxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZm9ybVN0YXRlU3Vic2NyaXB0aW9uID0gY29udHJvbC5fc3ViamVjdHMuc3RhdGUuc3Vic2NyaWJlKHtcclxuICAgICAgICAgICAgbmV4dDogKGZvcm1TdGF0ZSkgPT4gKCFuYW1lUmVmLmN1cnJlbnQgfHxcclxuICAgICAgICAgICAgICAgICFmb3JtU3RhdGUubmFtZSB8fFxyXG4gICAgICAgICAgICAgICAgY29udmVydFRvQXJyYXlQYXlsb2FkKG5hbWVSZWYuY3VycmVudCkuaW5jbHVkZXMoZm9ybVN0YXRlLm5hbWUpKSAmJlxyXG4gICAgICAgICAgICAgICAgc2hvdWxkUmVuZGVyRm9ybVN0YXRlKGZvcm1TdGF0ZSwgX2xvY2FsUHJveHlGb3JtU3RhdGUuY3VycmVudCkgJiZcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUZvcm1TdGF0ZShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGNvbnRyb2wuX2Zvcm1TdGF0ZSksIGZvcm1TdGF0ZSkpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGRpc2FibGVkICYmIGZvcm1TdGF0ZVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiBmb3JtU3RhdGVTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcclxuICAgIH0sIFtkaXNhYmxlZCwgY29udHJvbF0pO1xyXG4gICAgcmV0dXJuIGdldFByb3h5Rm9ybVN0YXRlKGZvcm1TdGF0ZSwgY29udHJvbC5fcHJveHlGb3JtU3RhdGUsIF9sb2NhbFByb3h5Rm9ybVN0YXRlLmN1cnJlbnQsIGZhbHNlKTtcclxufVxuXG5mdW5jdGlvbiB1c2VDb250cm9sbGVyKHByb3BzKSB7XHJcbiAgICBjb25zdCBtZXRob2RzID0gdXNlRm9ybUNvbnRleHQoKTtcclxuICAgIGNvbnN0IHsgbmFtZSwgY29udHJvbCA9IG1ldGhvZHMuY29udHJvbCwgc2hvdWxkVW5yZWdpc3RlciB9ID0gcHJvcHM7XHJcbiAgICBjb25zdCBbdmFsdWUsIHNldElucHV0U3RhdGVWYWx1ZV0gPSBSZWFjdC51c2VTdGF0ZShnZXQoY29udHJvbC5fZm9ybVZhbHVlcywgbmFtZSwgZ2V0KGNvbnRyb2wuX2RlZmF1bHRWYWx1ZXMsIG5hbWUsIHByb3BzLmRlZmF1bHRWYWx1ZSkpKTtcclxuICAgIGNvbnN0IGZvcm1TdGF0ZSA9IHVzZUZvcm1TdGF0ZSh7XHJcbiAgICAgICAgY29udHJvbDogY29udHJvbCB8fCBtZXRob2RzLmNvbnRyb2wsXHJcbiAgICAgICAgbmFtZSxcclxuICAgIH0pO1xyXG4gICAgY29uc3QgcmVnaXN0ZXJQcm9wcyA9IGNvbnRyb2wucmVnaXN0ZXIobmFtZSwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBwcm9wcy5ydWxlcyksIHsgdmFsdWUgfSkpO1xyXG4gICAgY29uc3QgdXBkYXRlTW91bnRlZCA9IFJlYWN0LnVzZUNhbGxiYWNrKChuYW1lLCB2YWx1ZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGZpZWxkID0gZ2V0KGNvbnRyb2wuX2ZpZWxkcywgbmFtZSk7XHJcbiAgICAgICAgaWYgKGZpZWxkKSB7XHJcbiAgICAgICAgICAgIGZpZWxkLl9mLm1vdW50ID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgW2NvbnRyb2xdKTtcclxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY29udHJvbGxlclN1YnNjcmlwdGlvbiA9IGNvbnRyb2wuX3N1YmplY3RzLmNvbnRyb2wuc3Vic2NyaWJlKHtcclxuICAgICAgICAgICAgbmV4dDogKGRhdGEpID0+ICghZGF0YS5uYW1lIHx8IG5hbWUgPT09IGRhdGEubmFtZSkgJiZcclxuICAgICAgICAgICAgICAgIHNldElucHV0U3RhdGVWYWx1ZShnZXQoZGF0YS52YWx1ZXMsIG5hbWUpKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB1cGRhdGVNb3VudGVkKG5hbWUsIHRydWUpO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXJTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcclxuICAgICAgICAgICAgY29uc3QgX3Nob3VsZFVucmVnaXN0ZXJGaWVsZCA9IGNvbnRyb2wuX3Nob3VsZFVucmVnaXN0ZXIgfHwgc2hvdWxkVW5yZWdpc3RlcjtcclxuICAgICAgICAgICAgaWYgKGlzTmFtZUluRmllbGRBcnJheShjb250cm9sLl9uYW1lcy5hcnJheSwgbmFtZSlcclxuICAgICAgICAgICAgICAgID8gX3Nob3VsZFVucmVnaXN0ZXJGaWVsZCAmJiAhY29udHJvbC5faXNJbkFjdGlvblxyXG4gICAgICAgICAgICAgICAgOiBfc2hvdWxkVW5yZWdpc3RlckZpZWxkKSB7XHJcbiAgICAgICAgICAgICAgICBjb250cm9sLnVucmVnaXN0ZXIobmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVNb3VudGVkKG5hbWUsIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9LCBbbmFtZSwgY29udHJvbCwgc2hvdWxkVW5yZWdpc3RlciwgdXBkYXRlTW91bnRlZF0pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBmaWVsZDoge1xyXG4gICAgICAgICAgICBvbkNoYW5nZTogKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGdldENvbnRyb2xsZXJWYWx1ZShldmVudCk7XHJcbiAgICAgICAgICAgICAgICBzZXRJbnB1dFN0YXRlVmFsdWUodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgcmVnaXN0ZXJQcm9wcy5vbkNoYW5nZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogRVZFTlRTLkNIQU5HRSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBvbkJsdXI6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlZ2lzdGVyUHJvcHMub25CbHVyKHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBFVkVOVFMuQkxVUixcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgICB2YWx1ZSxcclxuICAgICAgICAgICAgcmVmOiAoZWxtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZCA9IGdldChjb250cm9sLl9maWVsZHMsIG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVsbSAmJiBmaWVsZCAmJiBlbG0uZm9jdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWVsZC5fZi5yZWYgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzOiAoKSA9PiBlbG0uZm9jdXMoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3VzdG9tVmFsaWRpdHk6IChtZXNzYWdlKSA9PiBlbG0uc2V0Q3VzdG9tVmFsaWRpdHkobWVzc2FnZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcG9ydFZhbGlkaXR5OiAoKSA9PiBlbG0ucmVwb3J0VmFsaWRpdHkoKSxcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZm9ybVN0YXRlLFxyXG4gICAgICAgIGZpZWxkU3RhdGU6IHtcclxuICAgICAgICAgICAgaW52YWxpZDogISFnZXQoZm9ybVN0YXRlLmVycm9ycywgbmFtZSksXHJcbiAgICAgICAgICAgIGlzRGlydHk6ICEhZ2V0KGZvcm1TdGF0ZS5kaXJ0eUZpZWxkcywgbmFtZSksXHJcbiAgICAgICAgICAgIGlzVG91Y2hlZDogISFnZXQoZm9ybVN0YXRlLnRvdWNoZWRGaWVsZHMsIG5hbWUpLFxyXG4gICAgICAgICAgICBlcnJvcjogZ2V0KGZvcm1TdGF0ZS5lcnJvcnMsIG5hbWUpLFxyXG4gICAgICAgIH0sXHJcbiAgICB9O1xyXG59XG5cbmNvbnN0IENvbnRyb2xsZXIgPSAocHJvcHMpID0+IHByb3BzLnJlbmRlcih1c2VDb250cm9sbGVyKHByb3BzKSk7XG5cbnZhciBhcHBlbmRFcnJvcnMgPSAobmFtZSwgdmFsaWRhdGVBbGxGaWVsZENyaXRlcmlhLCBlcnJvcnMsIHR5cGUsIG1lc3NhZ2UpID0+IHZhbGlkYXRlQWxsRmllbGRDcml0ZXJpYVxyXG4gICAgPyBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGVycm9yc1tuYW1lXSksIHsgdHlwZXM6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgKGVycm9yc1tuYW1lXSAmJiBlcnJvcnNbbmFtZV0udHlwZXMgPyBlcnJvcnNbbmFtZV0udHlwZXMgOiB7fSkpLCB7IFt0eXBlXTogbWVzc2FnZSB8fCB0cnVlIH0pIH0pIDoge307XG5cbnZhciBpc0tleSA9ICh2YWx1ZSkgPT4gL15cXHcqJC8udGVzdCh2YWx1ZSk7XG5cbnZhciBzdHJpbmdUb1BhdGggPSAoaW5wdXQpID0+IGNvbXBhY3QoaW5wdXQucmVwbGFjZSgvW1wifCddfFxcXS9nLCAnJykuc3BsaXQoL1xcLnxcXFsvKSk7XG5cbmZ1bmN0aW9uIHNldChvYmplY3QsIHBhdGgsIHZhbHVlKSB7XHJcbiAgICBsZXQgaW5kZXggPSAtMTtcclxuICAgIGNvbnN0IHRlbXBQYXRoID0gaXNLZXkocGF0aCkgPyBbcGF0aF0gOiBzdHJpbmdUb1BhdGgocGF0aCk7XHJcbiAgICBjb25zdCBsZW5ndGggPSB0ZW1wUGF0aC5sZW5ndGg7XHJcbiAgICBjb25zdCBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xyXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcclxuICAgICAgICBjb25zdCBrZXkgPSB0ZW1wUGF0aFtpbmRleF07XHJcbiAgICAgICAgbGV0IG5ld1ZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKGluZGV4ICE9PSBsYXN0SW5kZXgpIHtcclxuICAgICAgICAgICAgY29uc3Qgb2JqVmFsdWUgPSBvYmplY3Rba2V5XTtcclxuICAgICAgICAgICAgbmV3VmFsdWUgPVxyXG4gICAgICAgICAgICAgICAgaXNPYmplY3Qob2JqVmFsdWUpIHx8IEFycmF5LmlzQXJyYXkob2JqVmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgPyBvYmpWYWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIDogIWlzTmFOKCt0ZW1wUGF0aFtpbmRleCArIDFdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFtdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDoge307XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG9iamVjdFtrZXldID0gbmV3VmFsdWU7XHJcbiAgICAgICAgb2JqZWN0ID0gb2JqZWN0W2tleV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb2JqZWN0O1xyXG59XG5cbmNvbnN0IGZvY3VzRmllbGRCeSA9IChmaWVsZHMsIGNhbGxiYWNrLCBmaWVsZHNOYW1lcykgPT4ge1xyXG4gICAgZm9yIChjb25zdCBrZXkgb2YgZmllbGRzTmFtZXMgfHwgT2JqZWN0LmtleXMoZmllbGRzKSkge1xyXG4gICAgICAgIGNvbnN0IGZpZWxkID0gZ2V0KGZpZWxkcywga2V5KTtcclxuICAgICAgICBpZiAoZmllbGQpIHtcclxuICAgICAgICAgICAgY29uc3QgX2YgPSBmaWVsZC5fZjtcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IG9taXQoZmllbGQsICdfZicpO1xyXG4gICAgICAgICAgICBpZiAoX2YgJiYgY2FsbGJhY2soX2YubmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChfZi5yZWYuZm9jdXMgJiYgaXNVbmRlZmluZWQoX2YucmVmLmZvY3VzKCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChfZi5yZWZzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX2YucmVmc1swXS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzT2JqZWN0KGN1cnJlbnQpKSB7XHJcbiAgICAgICAgICAgICAgICBmb2N1c0ZpZWxkQnkoY3VycmVudCwgY2FsbGJhY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xuXG52YXIgZ2V0Rm9jdXNGaWVsZE5hbWUgPSAobmFtZSwgaW5kZXgsIG9wdGlvbnMpID0+IG9wdGlvbnMgJiYgIW9wdGlvbnMuc2hvdWxkRm9jdXNcclxuICAgID8gb3B0aW9ucy5mb2N1c05hbWUgfHwgYCR7bmFtZX0uJHtvcHRpb25zLmZvY3VzSW5kZXh9LmBcclxuICAgIDogYCR7bmFtZX0uJHtpbmRleH0uYDtcblxudmFyIG1hcEN1cnJlbnRJZHMgPSAodmFsdWVzLCBfZmllbGRJZHMsIGtleU5hbWUpID0+IHZhbHVlcy5tYXAoKHZhbHVlLCBpbmRleCkgPT4ge1xyXG4gICAgY29uc3Qgb3V0cHV0ID0gX2ZpZWxkSWRzLmN1cnJlbnRbaW5kZXhdO1xyXG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdmFsdWUpLCAob3V0cHV0ID8geyBba2V5TmFtZV06IG91dHB1dFtrZXlOYW1lXSB9IDoge30pKTtcclxufSk7XG5cbnZhciBnZW5lcmF0ZUlkID0gKCkgPT4ge1xyXG4gICAgY29uc3QgZCA9IHR5cGVvZiBwZXJmb3JtYW5jZSA9PT0gJ3VuZGVmaW5lZCcgPyBEYXRlLm5vdygpIDogcGVyZm9ybWFuY2Uubm93KCkgKiAxMDAwO1xyXG4gICAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgKGMpID0+IHtcclxuICAgICAgICBjb25zdCByID0gKE1hdGgucmFuZG9tKCkgKiAxNiArIGQpICUgMTYgfCAwO1xyXG4gICAgICAgIHJldHVybiAoYyA9PSAneCcgPyByIDogKHIgJiAweDMpIHwgMHg4KS50b1N0cmluZygxNik7XHJcbiAgICB9KTtcclxufTtcblxudmFyIG1hcElkcyA9ICh2YWx1ZXMgPSBbXSwga2V5TmFtZSkgPT4gdmFsdWVzLm1hcCgodmFsdWUpID0+IChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sICh2YWx1ZVtrZXlOYW1lXSA/IHt9IDogeyBba2V5TmFtZV06IGdlbmVyYXRlSWQoKSB9KSksIHZhbHVlKSkpO1xuXG5mdW5jdGlvbiBhcHBlbmQoZGF0YSwgdmFsdWUpIHtcclxuICAgIHJldHVybiBbLi4uY29udmVydFRvQXJyYXlQYXlsb2FkKGRhdGEpLCAuLi5jb252ZXJ0VG9BcnJheVBheWxvYWQodmFsdWUpXTtcclxufVxuXG52YXIgZmlsbEVtcHR5QXJyYXkgPSAodmFsdWUpID0+IEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUubWFwKCgpID0+IHVuZGVmaW5lZCkgOiB1bmRlZmluZWQ7XG5cbmZ1bmN0aW9uIGluc2VydChkYXRhLCBpbmRleCwgdmFsdWUpIHtcclxuICAgIHJldHVybiBbXHJcbiAgICAgICAgLi4uZGF0YS5zbGljZSgwLCBpbmRleCksXHJcbiAgICAgICAgLi4uY29udmVydFRvQXJyYXlQYXlsb2FkKHZhbHVlKSxcclxuICAgICAgICAuLi5kYXRhLnNsaWNlKGluZGV4KSxcclxuICAgIF07XHJcbn1cblxudmFyIG1vdmVBcnJheUF0ID0gKGRhdGEsIGZyb20sIHRvKSA9PiB7XHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhKSkge1xyXG4gICAgICAgIGlmIChpc1VuZGVmaW5lZChkYXRhW3RvXSkpIHtcclxuICAgICAgICAgICAgZGF0YVt0b10gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRhdGEuc3BsaWNlKHRvLCAwLCBkYXRhLnNwbGljZShmcm9tLCAxKVswXSk7XHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gW107XHJcbn07XG5cbmZ1bmN0aW9uIHByZXBlbmQoZGF0YSwgdmFsdWUpIHtcclxuICAgIHJldHVybiBbLi4uY29udmVydFRvQXJyYXlQYXlsb2FkKHZhbHVlKSwgLi4uY29udmVydFRvQXJyYXlQYXlsb2FkKGRhdGEpXTtcclxufVxuXG5mdW5jdGlvbiByZW1vdmVBdEluZGV4ZXMoZGF0YSwgaW5kZXhlcykge1xyXG4gICAgbGV0IGkgPSAwO1xyXG4gICAgY29uc3QgdGVtcCA9IFsuLi5kYXRhXTtcclxuICAgIGZvciAoY29uc3QgaW5kZXggb2YgaW5kZXhlcykge1xyXG4gICAgICAgIHRlbXAuc3BsaWNlKGluZGV4IC0gaSwgMSk7XHJcbiAgICAgICAgaSsrO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvbXBhY3QodGVtcCkubGVuZ3RoID8gdGVtcCA6IFtdO1xyXG59XHJcbnZhciByZW1vdmVBcnJheUF0ID0gKGRhdGEsIGluZGV4KSA9PiBpc1VuZGVmaW5lZChpbmRleClcclxuICAgID8gW11cclxuICAgIDogcmVtb3ZlQXRJbmRleGVzKGRhdGEsIGNvbnZlcnRUb0FycmF5UGF5bG9hZChpbmRleCkuc29ydCgoYSwgYikgPT4gYSAtIGIpKTtcblxudmFyIHN3YXBBcnJheUF0ID0gKGRhdGEsIGluZGV4QSwgaW5kZXhCKSA9PiB7XHJcbiAgICBkYXRhW2luZGV4QV0gPSBbZGF0YVtpbmRleEJdLCAoZGF0YVtpbmRleEJdID0gZGF0YVtpbmRleEFdKV1bMF07XHJcbn07XG5cbnZhciB1cGRhdGVBdCA9IChmaWVsZFZhbHVlcywgaW5kZXgsIHZhbHVlKSA9PiB7XHJcbiAgICBmaWVsZFZhbHVlc1tpbmRleF0gPSB2YWx1ZTtcclxuICAgIHJldHVybiBmaWVsZFZhbHVlcztcclxufTtcblxuY29uc3QgdXNlRmllbGRBcnJheSA9IChwcm9wcykgPT4ge1xyXG4gICAgY29uc3QgbWV0aG9kcyA9IHVzZUZvcm1Db250ZXh0KCk7XHJcbiAgICBjb25zdCB7IGNvbnRyb2wgPSBtZXRob2RzLmNvbnRyb2wsIG5hbWUsIGtleU5hbWUgPSAnaWQnLCBzaG91bGRVbnJlZ2lzdGVyLCB9ID0gcHJvcHM7XHJcbiAgICBjb25zdCBbZmllbGRzLCBzZXRGaWVsZHNdID0gUmVhY3QudXNlU3RhdGUobWFwSWRzKGNvbnRyb2wuX2dldEZpZWxkQXJyYXlWYWx1ZShuYW1lKSwga2V5TmFtZSkpO1xyXG4gICAgY29uc3QgX2ZpZWxkSWRzID0gUmVhY3QudXNlUmVmKGZpZWxkcyk7XHJcbiAgICBfZmllbGRJZHMuY3VycmVudCA9IGZpZWxkcztcclxuICAgIGNvbnRyb2wuX25hbWVzLmFycmF5LmFkZChuYW1lKTtcclxuICAgIGNvbnN0IGFwcGVuZCQxID0gKHZhbHVlLCBvcHRpb25zKSA9PiB7XHJcbiAgICAgICAgY29uc3QgYXBwZW5kVmFsdWUgPSBjb252ZXJ0VG9BcnJheVBheWxvYWQodmFsdWUpO1xyXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzV2l0aEtleSA9IGFwcGVuZChtYXBDdXJyZW50SWRzKGNvbnRyb2wuX2dldEZpZWxkQXJyYXlWYWx1ZShuYW1lKSwgX2ZpZWxkSWRzLCBrZXlOYW1lKSwgbWFwSWRzKGNvbnZlcnRUb0FycmF5UGF5bG9hZCh2YWx1ZSksIGtleU5hbWUpKTtcclxuICAgICAgICBzZXRGaWVsZHModXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXNXaXRoS2V5KTtcclxuICAgICAgICBjb250cm9sLl91cGRhdGVGaWVsZEFycmF5KGtleU5hbWUsIG5hbWUsIGFwcGVuZCwge1xyXG4gICAgICAgICAgICBhcmdBOiBmaWxsRW1wdHlBcnJheSh2YWx1ZSksXHJcbiAgICAgICAgfSwgdXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXNXaXRoS2V5KTtcclxuICAgICAgICBjb250cm9sLl9uYW1lcy5mb2N1cyA9IGdldEZvY3VzRmllbGROYW1lKG5hbWUsIHVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzV2l0aEtleS5sZW5ndGggLSBhcHBlbmRWYWx1ZS5sZW5ndGgsIG9wdGlvbnMpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IHByZXBlbmQkMSA9ICh2YWx1ZSwgb3B0aW9ucykgPT4ge1xyXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzV2l0aEtleSA9IHByZXBlbmQobWFwQ3VycmVudElkcyhjb250cm9sLl9nZXRGaWVsZEFycmF5VmFsdWUobmFtZSksIF9maWVsZElkcywga2V5TmFtZSksIG1hcElkcyhjb252ZXJ0VG9BcnJheVBheWxvYWQodmFsdWUpLCBrZXlOYW1lKSk7XHJcbiAgICAgICAgc2V0RmllbGRzKHVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzV2l0aEtleSk7XHJcbiAgICAgICAgY29udHJvbC5fdXBkYXRlRmllbGRBcnJheShrZXlOYW1lLCBuYW1lLCBwcmVwZW5kLCB7XHJcbiAgICAgICAgICAgIGFyZ0E6IGZpbGxFbXB0eUFycmF5KHZhbHVlKSxcclxuICAgICAgICB9LCB1cGRhdGVkRmllbGRBcnJheVZhbHVlc1dpdGhLZXkpO1xyXG4gICAgICAgIGNvbnRyb2wuX25hbWVzLmZvY3VzID0gZ2V0Rm9jdXNGaWVsZE5hbWUobmFtZSwgMCwgb3B0aW9ucyk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcmVtb3ZlID0gKGluZGV4KSA9PiB7XHJcbiAgICAgICAgY29uc3QgdXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXNXaXRoS2V5ID0gcmVtb3ZlQXJyYXlBdChtYXBDdXJyZW50SWRzKGNvbnRyb2wuX2dldEZpZWxkQXJyYXlWYWx1ZShuYW1lKSwgX2ZpZWxkSWRzLCBrZXlOYW1lKSwgaW5kZXgpO1xyXG4gICAgICAgIHNldEZpZWxkcyh1cGRhdGVkRmllbGRBcnJheVZhbHVlc1dpdGhLZXkpO1xyXG4gICAgICAgIGNvbnRyb2wuX3VwZGF0ZUZpZWxkQXJyYXkoa2V5TmFtZSwgbmFtZSwgcmVtb3ZlQXJyYXlBdCwge1xyXG4gICAgICAgICAgICBhcmdBOiBpbmRleCxcclxuICAgICAgICB9LCB1cGRhdGVkRmllbGRBcnJheVZhbHVlc1dpdGhLZXkpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGluc2VydCQxID0gKGluZGV4LCB2YWx1ZSwgb3B0aW9ucykgPT4ge1xyXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzV2l0aEtleSA9IGluc2VydChtYXBDdXJyZW50SWRzKGNvbnRyb2wuX2dldEZpZWxkQXJyYXlWYWx1ZShuYW1lKSwgX2ZpZWxkSWRzLCBrZXlOYW1lKSwgaW5kZXgsIG1hcElkcyhjb252ZXJ0VG9BcnJheVBheWxvYWQodmFsdWUpLCBrZXlOYW1lKSk7XHJcbiAgICAgICAgc2V0RmllbGRzKHVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzV2l0aEtleSk7XHJcbiAgICAgICAgY29udHJvbC5fdXBkYXRlRmllbGRBcnJheShrZXlOYW1lLCBuYW1lLCBpbnNlcnQsIHtcclxuICAgICAgICAgICAgYXJnQTogaW5kZXgsXHJcbiAgICAgICAgICAgIGFyZ0I6IGZpbGxFbXB0eUFycmF5KHZhbHVlKSxcclxuICAgICAgICB9LCB1cGRhdGVkRmllbGRBcnJheVZhbHVlc1dpdGhLZXkpO1xyXG4gICAgICAgIGNvbnRyb2wuX25hbWVzLmZvY3VzID0gZ2V0Rm9jdXNGaWVsZE5hbWUobmFtZSwgaW5kZXgsIG9wdGlvbnMpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IHN3YXAgPSAoaW5kZXhBLCBpbmRleEIpID0+IHtcclxuICAgICAgICBjb25zdCB1cGRhdGVkRmllbGRBcnJheVZhbHVlc1dpdGhLZXkgPSBtYXBDdXJyZW50SWRzKGNvbnRyb2wuX2dldEZpZWxkQXJyYXlWYWx1ZShuYW1lKSwgX2ZpZWxkSWRzLCBrZXlOYW1lKTtcclxuICAgICAgICBzd2FwQXJyYXlBdCh1cGRhdGVkRmllbGRBcnJheVZhbHVlc1dpdGhLZXksIGluZGV4QSwgaW5kZXhCKTtcclxuICAgICAgICBzZXRGaWVsZHModXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXNXaXRoS2V5KTtcclxuICAgICAgICBjb250cm9sLl91cGRhdGVGaWVsZEFycmF5KGtleU5hbWUsIG5hbWUsIHN3YXBBcnJheUF0LCB7XHJcbiAgICAgICAgICAgIGFyZ0E6IGluZGV4QSxcclxuICAgICAgICAgICAgYXJnQjogaW5kZXhCLFxyXG4gICAgICAgIH0sIHVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzV2l0aEtleSwgZmFsc2UpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IG1vdmUgPSAoZnJvbSwgdG8pID0+IHtcclxuICAgICAgICBjb25zdCB1cGRhdGVkRmllbGRBcnJheVZhbHVlc1dpdGhLZXkgPSBtYXBDdXJyZW50SWRzKGNvbnRyb2wuX2dldEZpZWxkQXJyYXlWYWx1ZShuYW1lKSwgX2ZpZWxkSWRzLCBrZXlOYW1lKTtcclxuICAgICAgICBtb3ZlQXJyYXlBdCh1cGRhdGVkRmllbGRBcnJheVZhbHVlc1dpdGhLZXksIGZyb20sIHRvKTtcclxuICAgICAgICBzZXRGaWVsZHModXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXNXaXRoS2V5KTtcclxuICAgICAgICBjb250cm9sLl91cGRhdGVGaWVsZEFycmF5KGtleU5hbWUsIG5hbWUsIG1vdmVBcnJheUF0LCB7XHJcbiAgICAgICAgICAgIGFyZ0E6IGZyb20sXHJcbiAgICAgICAgICAgIGFyZ0I6IHRvLFxyXG4gICAgICAgIH0sIHVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzV2l0aEtleSwgZmFsc2UpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IHVwZGF0ZSA9IChpbmRleCwgdmFsdWUpID0+IHtcclxuICAgICAgICBjb25zdCB1cGRhdGVkRmllbGRBcnJheVZhbHVlc1dpdGhLZXkgPSBtYXBDdXJyZW50SWRzKGNvbnRyb2wuX2dldEZpZWxkQXJyYXlWYWx1ZShuYW1lKSwgX2ZpZWxkSWRzLCBrZXlOYW1lKTtcclxuICAgICAgICBjb25zdCB1cGRhdGVkRmllbGRBcnJheVZhbHVlcyA9IHVwZGF0ZUF0KHVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzV2l0aEtleSwgaW5kZXgsIHZhbHVlKTtcclxuICAgICAgICBfZmllbGRJZHMuY3VycmVudCA9IG1hcElkcyh1cGRhdGVkRmllbGRBcnJheVZhbHVlcywga2V5TmFtZSk7XHJcbiAgICAgICAgc2V0RmllbGRzKF9maWVsZElkcy5jdXJyZW50KTtcclxuICAgICAgICBjb250cm9sLl91cGRhdGVGaWVsZEFycmF5KGtleU5hbWUsIG5hbWUsIHVwZGF0ZUF0LCB7XHJcbiAgICAgICAgICAgIGFyZ0E6IGluZGV4LFxyXG4gICAgICAgICAgICBhcmdCOiB2YWx1ZSxcclxuICAgICAgICB9LCB1cGRhdGVkRmllbGRBcnJheVZhbHVlc1dpdGhLZXksIHRydWUsIGZhbHNlKTtcclxuICAgIH07XHJcbiAgICBjb25zdCByZXBsYWNlID0gKHZhbHVlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdmFsdWVzID0gbWFwSWRzKGNvbnZlcnRUb0FycmF5UGF5bG9hZCh2YWx1ZSksIGtleU5hbWUpO1xyXG4gICAgICAgIHNldEZpZWxkcyh2YWx1ZXMpO1xyXG4gICAgICAgIGNvbnRyb2wuX3VwZGF0ZUZpZWxkQXJyYXkoa2V5TmFtZSwgbmFtZSwgKCkgPT4gdmFsdWVzLCB7fSwgdmFsdWVzLCB0cnVlLCBmYWxzZSk7XHJcbiAgICB9O1xyXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBjb250cm9sLl9pc0luQWN0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKGNvbnRyb2wuX25hbWVzLndhdGNoQWxsKSB7XHJcbiAgICAgICAgICAgIGNvbnRyb2wuX3N1YmplY3RzLnN0YXRlLm5leHQoe30pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCB3YXRjaEZpZWxkIG9mIGNvbnRyb2wuX25hbWVzLndhdGNoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobmFtZS5zdGFydHNXaXRoKHdhdGNoRmllbGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbC5fc3ViamVjdHMuc3RhdGUubmV4dCh7fSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY29udHJvbC5fc3ViamVjdHMud2F0Y2gubmV4dCh7XHJcbiAgICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICAgIHZhbHVlczogY29udHJvbC5fZm9ybVZhbHVlcyxcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb250cm9sLl9uYW1lcy5mb2N1cyAmJlxyXG4gICAgICAgICAgICBmb2N1c0ZpZWxkQnkoY29udHJvbC5fZmllbGRzLCAoa2V5KSA9PiBrZXkuc3RhcnRzV2l0aChjb250cm9sLl9uYW1lcy5mb2N1cykpO1xyXG4gICAgICAgIGNvbnRyb2wuX25hbWVzLmZvY3VzID0gJyc7XHJcbiAgICAgICAgY29udHJvbC5fcHJveHlGb3JtU3RhdGUuaXNWYWxpZCAmJiBjb250cm9sLl91cGRhdGVWYWxpZCgpO1xyXG4gICAgfSwgW2ZpZWxkcywgbmFtZSwgY29udHJvbCwga2V5TmFtZV0pO1xyXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBjb25zdCBmaWVsZEFycmF5U3Vic2NyaXB0aW9uID0gY29udHJvbC5fc3ViamVjdHMuYXJyYXkuc3Vic2NyaWJlKHtcclxuICAgICAgICAgICAgbmV4dCh7IHZhbHVlcywgbmFtZTogZmllbGRBcnJheU5hbWUgfSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpZWxkQXJyYXlOYW1lID09PSBuYW1lIHx8ICFmaWVsZEFycmF5TmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldEZpZWxkcyhtYXBJZHMoZ2V0KHZhbHVlcywgbmFtZSksIGtleU5hbWUpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgICAgICAhZ2V0KGNvbnRyb2wuX2Zvcm1WYWx1ZXMsIG5hbWUpICYmIHNldChjb250cm9sLl9mb3JtVmFsdWVzLCBuYW1lLCBbXSk7XHJcbiAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgZmllbGRBcnJheVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xyXG4gICAgICAgICAgICBpZiAoY29udHJvbC5fc2hvdWxkVW5yZWdpc3RlciB8fCBzaG91bGRVbnJlZ2lzdGVyKSB7XHJcbiAgICAgICAgICAgICAgICBjb250cm9sLnVucmVnaXN0ZXIobmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfSwgW25hbWUsIGNvbnRyb2wsIGtleU5hbWUsIHNob3VsZFVucmVnaXN0ZXJdKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgc3dhcDogUmVhY3QudXNlQ2FsbGJhY2soc3dhcCwgW25hbWUsIGNvbnRyb2wsIGtleU5hbWVdKSxcclxuICAgICAgICBtb3ZlOiBSZWFjdC51c2VDYWxsYmFjayhtb3ZlLCBbbmFtZSwgY29udHJvbCwga2V5TmFtZV0pLFxyXG4gICAgICAgIHByZXBlbmQ6IFJlYWN0LnVzZUNhbGxiYWNrKHByZXBlbmQkMSwgW25hbWUsIGNvbnRyb2wsIGtleU5hbWVdKSxcclxuICAgICAgICBhcHBlbmQ6IFJlYWN0LnVzZUNhbGxiYWNrKGFwcGVuZCQxLCBbbmFtZSwgY29udHJvbCwga2V5TmFtZV0pLFxyXG4gICAgICAgIHJlbW92ZTogUmVhY3QudXNlQ2FsbGJhY2socmVtb3ZlLCBbbmFtZSwgY29udHJvbCwga2V5TmFtZV0pLFxyXG4gICAgICAgIGluc2VydDogUmVhY3QudXNlQ2FsbGJhY2soaW5zZXJ0JDEsIFtuYW1lLCBjb250cm9sLCBrZXlOYW1lXSksXHJcbiAgICAgICAgdXBkYXRlOiBSZWFjdC51c2VDYWxsYmFjayh1cGRhdGUsIFtuYW1lLCBjb250cm9sLCBrZXlOYW1lXSksXHJcbiAgICAgICAgcmVwbGFjZTogUmVhY3QudXNlQ2FsbGJhY2socmVwbGFjZSwgW25hbWUsIGNvbnRyb2wsIGtleU5hbWVdKSxcclxuICAgICAgICBmaWVsZHM6IGZpZWxkcyxcclxuICAgIH07XHJcbn07XG5cbmZ1bmN0aW9uIGNsb25lT2JqZWN0KGRhdGEpIHtcclxuICAgIGxldCBjb3B5O1xyXG4gICAgY29uc3QgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkoZGF0YSk7XHJcbiAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIERhdGUpIHtcclxuICAgICAgICBjb3B5ID0gbmV3IERhdGUoZGF0YS5nZXRUaW1lKCkpO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaXNBcnJheSB8fCBpc09iamVjdChkYXRhKSkge1xyXG4gICAgICAgIGNvcHkgPSBpc0FycmF5ID8gW10gOiB7fTtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBkYXRhKSB7XHJcbiAgICAgICAgICAgIGNvcHlba2V5XSA9IGNsb25lT2JqZWN0KGRhdGFba2V5XSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29weTtcclxufVxuXG52YXIgaXNQcmltaXRpdmUgPSAodmFsdWUpID0+IGlzTnVsbE9yVW5kZWZpbmVkKHZhbHVlKSB8fCAhaXNPYmplY3RUeXBlKHZhbHVlKTtcblxuZnVuY3Rpb24gZGVlcEVxdWFsKG9iamVjdDEsIG9iamVjdDIpIHtcclxuICAgIGlmIChpc1ByaW1pdGl2ZShvYmplY3QxKSB8fFxyXG4gICAgICAgIGlzUHJpbWl0aXZlKG9iamVjdDIpIHx8XHJcbiAgICAgICAgaXNEYXRlT2JqZWN0KG9iamVjdDEpIHx8XHJcbiAgICAgICAgaXNEYXRlT2JqZWN0KG9iamVjdDIpKSB7XHJcbiAgICAgICAgcmV0dXJuIG9iamVjdDEgPT09IG9iamVjdDI7XHJcbiAgICB9XHJcbiAgICBjb25zdCBrZXlzMSA9IE9iamVjdC5rZXlzKG9iamVjdDEpO1xyXG4gICAgY29uc3Qga2V5czIgPSBPYmplY3Qua2V5cyhvYmplY3QyKTtcclxuICAgIGlmIChrZXlzMS5sZW5ndGggIT09IGtleXMyLmxlbmd0aCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGZvciAoY29uc3Qga2V5IG9mIGtleXMxKSB7XHJcbiAgICAgICAgY29uc3QgdmFsMSA9IG9iamVjdDFba2V5XTtcclxuICAgICAgICBpZiAoIWtleXMyLmluY2x1ZGVzKGtleSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoa2V5ICE9PSAncmVmJykge1xyXG4gICAgICAgICAgICBjb25zdCB2YWwyID0gb2JqZWN0MltrZXldO1xyXG4gICAgICAgICAgICBpZiAoKGlzT2JqZWN0KHZhbDEpIHx8IEFycmF5LmlzQXJyYXkodmFsMSkpICYmXHJcbiAgICAgICAgICAgICAgICAoaXNPYmplY3QodmFsMikgfHwgQXJyYXkuaXNBcnJheSh2YWwyKSlcclxuICAgICAgICAgICAgICAgID8gIWRlZXBFcXVhbCh2YWwxLCB2YWwyKVxyXG4gICAgICAgICAgICAgICAgOiB2YWwxICE9PSB2YWwyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxuXG52YXIgZ2V0VmFsaWRhdGlvbk1vZGVzID0gKG1vZGUpID0+ICh7XHJcbiAgICBpc09uU3VibWl0OiAhbW9kZSB8fCBtb2RlID09PSBWQUxJREFUSU9OX01PREUub25TdWJtaXQsXHJcbiAgICBpc09uQmx1cjogbW9kZSA9PT0gVkFMSURBVElPTl9NT0RFLm9uQmx1cixcclxuICAgIGlzT25DaGFuZ2U6IG1vZGUgPT09IFZBTElEQVRJT05fTU9ERS5vbkNoYW5nZSxcclxuICAgIGlzT25BbGw6IG1vZGUgPT09IFZBTElEQVRJT05fTU9ERS5hbGwsXHJcbiAgICBpc09uVG91Y2g6IG1vZGUgPT09IFZBTElEQVRJT05fTU9ERS5vblRvdWNoZWQsXHJcbn0pO1xuXG52YXIgaXNCb29sZWFuID0gKHZhbHVlKSA9PiB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJztcblxudmFyIGlzRmlsZUlucHV0ID0gKGVsZW1lbnQpID0+IGVsZW1lbnQudHlwZSA9PT0gJ2ZpbGUnO1xuXG52YXIgaXNGdW5jdGlvbiA9ICh2YWx1ZSkgPT4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xuXG52YXIgaXNIVE1MRWxlbWVudCA9ICh2YWx1ZSkgPT4gdmFsdWUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudDtcblxudmFyIGlzTXVsdGlwbGVTZWxlY3QgPSAoZWxlbWVudCkgPT4gZWxlbWVudC50eXBlID09PSBgc2VsZWN0LW11bHRpcGxlYDtcblxudmFyIGlzUmFkaW9JbnB1dCA9IChlbGVtZW50KSA9PiBlbGVtZW50LnR5cGUgPT09ICdyYWRpbyc7XG5cbnZhciBpc1JhZGlvT3JDaGVja2JveEZ1bmN0aW9uID0gKHJlZikgPT4gaXNSYWRpb0lucHV0KHJlZikgfHwgaXNDaGVja0JveElucHV0KHJlZik7XG5cbnZhciBpc1N0cmluZyA9ICh2YWx1ZSkgPT4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJztcblxudmFyIGlzV2ViID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcclxuICAgIHR5cGVvZiB3aW5kb3cuSFRNTEVsZW1lbnQgIT09ICd1bmRlZmluZWQnICYmXHJcbiAgICB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnO1xuXG52YXIgbGl2ZSA9IChyZWYpID0+ICFpc0hUTUxFbGVtZW50KHJlZikgfHwgIWRvY3VtZW50LmNvbnRhaW5zKHJlZik7XG5cbnZhciBvbWl0S2V5ID0gKGZpZWxkcywga2V5TmFtZSkgPT4gZmllbGRzLm1hcCgoZmllbGQgPSB7fSkgPT4gb21pdChmaWVsZCwga2V5TmFtZSkpO1xuXG5jbGFzcyBTdWJzY3JpcHRpb24ge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy50ZWFyRG93bnMgPSBbXTtcclxuICAgIH1cclxuICAgIGFkZCh0ZWFyRG93bikge1xyXG4gICAgICAgIHRoaXMudGVhckRvd25zLnB1c2godGVhckRvd24pO1xyXG4gICAgfVxyXG4gICAgdW5zdWJzY3JpYmUoKSB7XHJcbiAgICAgICAgZm9yIChjb25zdCB0ZWFyZG93biBvZiB0aGlzLnRlYXJEb3ducykge1xyXG4gICAgICAgICAgICB0ZWFyZG93bigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRlYXJEb3ducyA9IFtdO1xyXG4gICAgfVxyXG59XHJcbmNsYXNzIFN1YnNjcmliZXIge1xyXG4gICAgY29uc3RydWN0b3Iob2JzZXJ2ZXIsIHN1YnNjcmlwdGlvbikge1xyXG4gICAgICAgIHRoaXMub2JzZXJ2ZXIgPSBvYnNlcnZlcjtcclxuICAgICAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xyXG4gICAgICAgIHN1YnNjcmlwdGlvbi5hZGQoKCkgPT4gKHRoaXMuY2xvc2VkID0gdHJ1ZSkpO1xyXG4gICAgfVxyXG4gICAgbmV4dCh2YWx1ZSkge1xyXG4gICAgICAgIGlmICghdGhpcy5jbG9zZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5vYnNlcnZlci5uZXh0KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuY2xhc3MgU3ViamVjdCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLm9ic2VydmVycyA9IFtdO1xyXG4gICAgfVxyXG4gICAgbmV4dCh2YWx1ZSkge1xyXG4gICAgICAgIGZvciAoY29uc3Qgb2JzZXJ2ZXIgb2YgdGhpcy5vYnNlcnZlcnMpIHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dCh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3Vic2NyaWJlKG9ic2VydmVyKSB7XHJcbiAgICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gbmV3IFN1YnNjcmlwdGlvbigpO1xyXG4gICAgICAgIGNvbnN0IHN1YnNjcmliZXIgPSBuZXcgU3Vic2NyaWJlcihvYnNlcnZlciwgc3Vic2NyaXB0aW9uKTtcclxuICAgICAgICB0aGlzLm9ic2VydmVycy5wdXNoKHN1YnNjcmliZXIpO1xyXG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XHJcbiAgICB9XHJcbiAgICB1bnN1YnNjcmliZSgpIHtcclxuICAgICAgICB0aGlzLm9ic2VydmVycyA9IFtdO1xyXG4gICAgfVxyXG59XG5cbmZ1bmN0aW9uIGJhc2VHZXQob2JqZWN0LCB1cGRhdGVQYXRoKSB7XHJcbiAgICBjb25zdCBsZW5ndGggPSB1cGRhdGVQYXRoLnNsaWNlKDAsIC0xKS5sZW5ndGg7XHJcbiAgICBsZXQgaW5kZXggPSAwO1xyXG4gICAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoKSB7XHJcbiAgICAgICAgb2JqZWN0ID0gaXNVbmRlZmluZWQob2JqZWN0KSA/IGluZGV4KysgOiBvYmplY3RbdXBkYXRlUGF0aFtpbmRleCsrXV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb2JqZWN0O1xyXG59XHJcbmZ1bmN0aW9uIHVuc2V0KG9iamVjdCwgcGF0aCkge1xyXG4gICAgY29uc3QgdXBkYXRlUGF0aCA9IGlzS2V5KHBhdGgpID8gW3BhdGhdIDogc3RyaW5nVG9QYXRoKHBhdGgpO1xyXG4gICAgY29uc3QgY2hpbGRPYmplY3QgPSB1cGRhdGVQYXRoLmxlbmd0aCA9PSAxID8gb2JqZWN0IDogYmFzZUdldChvYmplY3QsIHVwZGF0ZVBhdGgpO1xyXG4gICAgY29uc3Qga2V5ID0gdXBkYXRlUGF0aFt1cGRhdGVQYXRoLmxlbmd0aCAtIDFdO1xyXG4gICAgbGV0IHByZXZpb3VzT2JqUmVmO1xyXG4gICAgaWYgKGNoaWxkT2JqZWN0KSB7XHJcbiAgICAgICAgZGVsZXRlIGNoaWxkT2JqZWN0W2tleV07XHJcbiAgICB9XHJcbiAgICBmb3IgKGxldCBrID0gMDsgayA8IHVwZGF0ZVBhdGguc2xpY2UoMCwgLTEpLmxlbmd0aDsgaysrKSB7XHJcbiAgICAgICAgbGV0IGluZGV4ID0gLTE7XHJcbiAgICAgICAgbGV0IG9iamVjdFJlZjtcclxuICAgICAgICBjb25zdCBjdXJyZW50UGF0aHMgPSB1cGRhdGVQYXRoLnNsaWNlKDAsIC0oayArIDEpKTtcclxuICAgICAgICBjb25zdCBjdXJyZW50UGF0aHNMZW5ndGggPSBjdXJyZW50UGF0aHMubGVuZ3RoIC0gMTtcclxuICAgICAgICBpZiAoayA+IDApIHtcclxuICAgICAgICAgICAgcHJldmlvdXNPYmpSZWYgPSBvYmplY3Q7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgY3VycmVudFBhdGhzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBjb25zdCBpdGVtID0gY3VycmVudFBhdGhzW2luZGV4XTtcclxuICAgICAgICAgICAgb2JqZWN0UmVmID0gb2JqZWN0UmVmID8gb2JqZWN0UmVmW2l0ZW1dIDogb2JqZWN0W2l0ZW1dO1xyXG4gICAgICAgICAgICBpZiAoY3VycmVudFBhdGhzTGVuZ3RoID09PSBpbmRleCAmJlxyXG4gICAgICAgICAgICAgICAgKChpc09iamVjdChvYmplY3RSZWYpICYmIGlzRW1wdHlPYmplY3Qob2JqZWN0UmVmKSkgfHxcclxuICAgICAgICAgICAgICAgICAgICAoQXJyYXkuaXNBcnJheShvYmplY3RSZWYpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICFvYmplY3RSZWYuZmlsdGVyKChkYXRhKSA9PiAoaXNPYmplY3QoZGF0YSkgJiYgIWlzRW1wdHlPYmplY3QoZGF0YSkpIHx8IGlzQm9vbGVhbihkYXRhKSkubGVuZ3RoKSkpIHtcclxuICAgICAgICAgICAgICAgIHByZXZpb3VzT2JqUmVmID8gZGVsZXRlIHByZXZpb3VzT2JqUmVmW2l0ZW1dIDogZGVsZXRlIG9iamVjdFtpdGVtXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwcmV2aW91c09ialJlZiA9IG9iamVjdFJlZjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb2JqZWN0O1xyXG59XG5cbmNvbnN0IGRlZmF1bHRSZXN1bHQgPSB7XHJcbiAgICB2YWx1ZTogZmFsc2UsXHJcbiAgICBpc1ZhbGlkOiBmYWxzZSxcclxufTtcclxuY29uc3QgdmFsaWRSZXN1bHQgPSB7IHZhbHVlOiB0cnVlLCBpc1ZhbGlkOiB0cnVlIH07XHJcbnZhciBnZXRDaGVja2JveFZhbHVlID0gKG9wdGlvbnMpID0+IHtcclxuICAgIGlmIChBcnJheS5pc0FycmF5KG9wdGlvbnMpKSB7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBvcHRpb25zXHJcbiAgICAgICAgICAgICAgICAuZmlsdGVyKChvcHRpb24pID0+IG9wdGlvbiAmJiBvcHRpb24uY2hlY2tlZCAmJiAhb3B0aW9uLmRpc2FibGVkKVxyXG4gICAgICAgICAgICAgICAgLm1hcCgob3B0aW9uKSA9PiBvcHRpb24udmFsdWUpO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogdmFsdWVzLCBpc1ZhbGlkOiAhIXZhbHVlcy5sZW5ndGggfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG9wdGlvbnNbMF0uY2hlY2tlZCAmJiAhb3B0aW9uc1swXS5kaXNhYmxlZFxyXG4gICAgICAgICAgICA/IC8vIEB0cy1leHBlY3QtZXJyb3IgZXhwZWN0ZWQgdG8gd29yayBpbiB0aGUgYnJvd3NlclxyXG4gICAgICAgICAgICAgICAgb3B0aW9uc1swXS5hdHRyaWJ1dGVzICYmICFpc1VuZGVmaW5lZChvcHRpb25zWzBdLmF0dHJpYnV0ZXMudmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgPyBpc1VuZGVmaW5lZChvcHRpb25zWzBdLnZhbHVlKSB8fCBvcHRpb25zWzBdLnZhbHVlID09PSAnJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHZhbGlkUmVzdWx0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogeyB2YWx1ZTogb3B0aW9uc1swXS52YWx1ZSwgaXNWYWxpZDogdHJ1ZSB9XHJcbiAgICAgICAgICAgICAgICAgICAgOiB2YWxpZFJlc3VsdFxyXG4gICAgICAgICAgICA6IGRlZmF1bHRSZXN1bHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGVmYXVsdFJlc3VsdDtcclxufTtcblxudmFyIGdldEZpZWxkVmFsdWVBcyA9ICh2YWx1ZSwgeyB2YWx1ZUFzTnVtYmVyLCB2YWx1ZUFzRGF0ZSwgc2V0VmFsdWVBcyB9KSA9PiBpc1VuZGVmaW5lZCh2YWx1ZSlcclxuICAgID8gdmFsdWVcclxuICAgIDogdmFsdWVBc051bWJlclxyXG4gICAgICAgID8gdmFsdWUgPT09ICcnXHJcbiAgICAgICAgICAgID8gTmFOXHJcbiAgICAgICAgICAgIDogK3ZhbHVlXHJcbiAgICAgICAgOiB2YWx1ZUFzRGF0ZVxyXG4gICAgICAgICAgICA/IG5ldyBEYXRlKHZhbHVlKVxyXG4gICAgICAgICAgICA6IHNldFZhbHVlQXNcclxuICAgICAgICAgICAgICAgID8gc2V0VmFsdWVBcyh2YWx1ZSlcclxuICAgICAgICAgICAgICAgIDogdmFsdWU7XG5cbnZhciBnZXRNdWx0aXBsZVNlbGVjdFZhbHVlID0gKG9wdGlvbnMpID0+IFsuLi5vcHRpb25zXVxyXG4gICAgLmZpbHRlcigoeyBzZWxlY3RlZCB9KSA9PiBzZWxlY3RlZClcclxuICAgIC5tYXAoKHsgdmFsdWUgfSkgPT4gdmFsdWUpO1xuXG5jb25zdCBkZWZhdWx0UmV0dXJuID0ge1xyXG4gICAgaXNWYWxpZDogZmFsc2UsXHJcbiAgICB2YWx1ZTogbnVsbCxcclxufTtcclxudmFyIGdldFJhZGlvVmFsdWUgPSAob3B0aW9ucykgPT4gQXJyYXkuaXNBcnJheShvcHRpb25zKVxyXG4gICAgPyBvcHRpb25zLnJlZHVjZSgocHJldmlvdXMsIG9wdGlvbikgPT4gb3B0aW9uICYmIG9wdGlvbi5jaGVja2VkICYmICFvcHRpb24uZGlzYWJsZWRcclxuICAgICAgICA/IHtcclxuICAgICAgICAgICAgaXNWYWxpZDogdHJ1ZSxcclxuICAgICAgICAgICAgdmFsdWU6IG9wdGlvbi52YWx1ZSxcclxuICAgICAgICB9XHJcbiAgICAgICAgOiBwcmV2aW91cywgZGVmYXVsdFJldHVybilcclxuICAgIDogZGVmYXVsdFJldHVybjtcblxuZnVuY3Rpb24gZ2V0RmllbGRWYWx1ZShfZikge1xyXG4gICAgY29uc3QgcmVmID0gX2YucmVmO1xyXG4gICAgaWYgKF9mLnJlZnMgPyBfZi5yZWZzLmV2ZXJ5KChyZWYpID0+IHJlZi5kaXNhYmxlZCkgOiByZWYuZGlzYWJsZWQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoaXNGaWxlSW5wdXQocmVmKSkge1xyXG4gICAgICAgIHJldHVybiByZWYuZmlsZXM7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNSYWRpb0lucHV0KHJlZikpIHtcclxuICAgICAgICByZXR1cm4gZ2V0UmFkaW9WYWx1ZShfZi5yZWZzKS52YWx1ZTtcclxuICAgIH1cclxuICAgIGlmIChpc011bHRpcGxlU2VsZWN0KHJlZikpIHtcclxuICAgICAgICByZXR1cm4gZ2V0TXVsdGlwbGVTZWxlY3RWYWx1ZShyZWYub3B0aW9ucyk7XHJcbiAgICB9XHJcbiAgICBpZiAoaXNDaGVja0JveElucHV0KHJlZikpIHtcclxuICAgICAgICByZXR1cm4gZ2V0Q2hlY2tib3hWYWx1ZShfZi5yZWZzKS52YWx1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBnZXRGaWVsZFZhbHVlQXMoaXNVbmRlZmluZWQocmVmLnZhbHVlKSA/IF9mLnJlZi52YWx1ZSA6IHJlZi52YWx1ZSwgX2YpO1xyXG59XG5cbnZhciBnZXRSZXNvbHZlck9wdGlvbnMgPSAoZmllbGRzTmFtZXMsIF9maWVsZHNzLCBjcml0ZXJpYU1vZGUsIHNob3VsZFVzZU5hdGl2ZVZhbGlkYXRpb24pID0+IHtcclxuICAgIGNvbnN0IGZpZWxkcyA9IHt9O1xyXG4gICAgZm9yIChjb25zdCBuYW1lIG9mIGZpZWxkc05hbWVzKSB7XHJcbiAgICAgICAgY29uc3QgZmllbGQgPSBnZXQoX2ZpZWxkc3MsIG5hbWUpO1xyXG4gICAgICAgIGZpZWxkICYmIHNldChmaWVsZHMsIG5hbWUsIGZpZWxkLl9mKTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgY3JpdGVyaWFNb2RlLFxyXG4gICAgICAgIG5hbWVzOiBbLi4uZmllbGRzTmFtZXNdLFxyXG4gICAgICAgIGZpZWxkcyxcclxuICAgICAgICBzaG91bGRVc2VOYXRpdmVWYWxpZGF0aW9uLFxyXG4gICAgfTtcclxufTtcblxudmFyIGhhc1ZhbGlkYXRpb24gPSAob3B0aW9ucykgPT4gb3B0aW9ucy5tb3VudCAmJlxyXG4gICAgKG9wdGlvbnMucmVxdWlyZWQgfHxcclxuICAgICAgICBvcHRpb25zLm1pbiB8fFxyXG4gICAgICAgIG9wdGlvbnMubWF4IHx8XHJcbiAgICAgICAgb3B0aW9ucy5tYXhMZW5ndGggfHxcclxuICAgICAgICBvcHRpb25zLm1pbkxlbmd0aCB8fFxyXG4gICAgICAgIG9wdGlvbnMucGF0dGVybiB8fFxyXG4gICAgICAgIG9wdGlvbnMudmFsaWRhdGUpO1xuXG5mdW5jdGlvbiBkZWVwTWVyZ2UodGFyZ2V0LCBzb3VyY2UpIHtcclxuICAgIGlmIChpc1ByaW1pdGl2ZSh0YXJnZXQpIHx8IGlzUHJpbWl0aXZlKHNvdXJjZSkpIHtcclxuICAgICAgICByZXR1cm4gc291cmNlO1xyXG4gICAgfVxyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gc291cmNlKSB7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0VmFsdWUgPSB0YXJnZXRba2V5XTtcclxuICAgICAgICBjb25zdCBzb3VyY2VWYWx1ZSA9IHNvdXJjZVtrZXldO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRhcmdldFtrZXldID1cclxuICAgICAgICAgICAgICAgIChpc09iamVjdCh0YXJnZXRWYWx1ZSkgJiYgaXNPYmplY3Qoc291cmNlVmFsdWUpKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIChBcnJheS5pc0FycmF5KHRhcmdldFZhbHVlKSAmJiBBcnJheS5pc0FycmF5KHNvdXJjZVZhbHVlKSlcclxuICAgICAgICAgICAgICAgICAgICA/IGRlZXBNZXJnZSh0YXJnZXRWYWx1ZSwgc291cmNlVmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBzb3VyY2VWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKF9hKSB7IH1cclxuICAgIH1cclxuICAgIHJldHVybiB0YXJnZXQ7XHJcbn1cblxuZnVuY3Rpb24gc2V0RGlydHlGaWVsZHModmFsdWVzLCBkZWZhdWx0VmFsdWVzLCBkaXJ0eUZpZWxkcywgcGFyZW50Tm9kZSwgcGFyZW50TmFtZSkge1xyXG4gICAgbGV0IGluZGV4ID0gLTE7XHJcbiAgICB3aGlsZSAoKytpbmRleCA8IHZhbHVlcy5sZW5ndGgpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB2YWx1ZXNbaW5kZXhdKSB7XHJcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlc1tpbmRleF1ba2V5XSkpIHtcclxuICAgICAgICAgICAgICAgICFkaXJ0eUZpZWxkc1tpbmRleF0gJiYgKGRpcnR5RmllbGRzW2luZGV4XSA9IHt9KTtcclxuICAgICAgICAgICAgICAgIGRpcnR5RmllbGRzW2luZGV4XVtrZXldID0gW107XHJcbiAgICAgICAgICAgICAgICBzZXREaXJ0eUZpZWxkcyh2YWx1ZXNbaW5kZXhdW2tleV0sIGdldChkZWZhdWx0VmFsdWVzW2luZGV4XSB8fCB7fSwga2V5LCBbXSksIGRpcnR5RmllbGRzW2luZGV4XVtrZXldLCBkaXJ0eUZpZWxkc1tpbmRleF0sIGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAhaXNOdWxsT3JVbmRlZmluZWQoZGVmYXVsdFZhbHVlcykgJiZcclxuICAgICAgICAgICAgICAgICAgICBkZWVwRXF1YWwoZ2V0KGRlZmF1bHRWYWx1ZXNbaW5kZXhdIHx8IHt9LCBrZXkpLCB2YWx1ZXNbaW5kZXhdW2tleV0pXHJcbiAgICAgICAgICAgICAgICAgICAgPyBzZXQoZGlydHlGaWVsZHNbaW5kZXhdIHx8IHt9LCBrZXkpXHJcbiAgICAgICAgICAgICAgICAgICAgOiAoZGlydHlGaWVsZHNbaW5kZXhdID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBkaXJ0eUZpZWxkc1tpbmRleF0pLCB7IFtrZXldOiB0cnVlIH0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBwYXJlbnROb2RlICYmXHJcbiAgICAgICAgICAgICFkaXJ0eUZpZWxkcy5sZW5ndGggJiZcclxuICAgICAgICAgICAgZGVsZXRlIHBhcmVudE5vZGVbcGFyZW50TmFtZV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGlydHlGaWVsZHM7XHJcbn1cclxudmFyIHNldEZpZWxkQXJyYXlEaXJ0eUZpZWxkcyA9ICh2YWx1ZXMsIGRlZmF1bHRWYWx1ZXMsIGRpcnR5RmllbGRzKSA9PiBkZWVwTWVyZ2Uoc2V0RGlydHlGaWVsZHModmFsdWVzLCBkZWZhdWx0VmFsdWVzLCBkaXJ0eUZpZWxkcy5zbGljZSgwLCB2YWx1ZXMubGVuZ3RoKSksIHNldERpcnR5RmllbGRzKGRlZmF1bHRWYWx1ZXMsIHZhbHVlcywgZGlydHlGaWVsZHMuc2xpY2UoMCwgdmFsdWVzLmxlbmd0aCkpKTtcblxudmFyIHNraXBWYWxpZGF0aW9uID0gKGlzQmx1ckV2ZW50LCBpc1RvdWNoZWQsIGlzU3VibWl0dGVkLCByZVZhbGlkYXRlTW9kZSwgbW9kZSkgPT4ge1xyXG4gICAgaWYgKG1vZGUuaXNPbkFsbCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKCFpc1N1Ym1pdHRlZCAmJiBtb2RlLmlzT25Ub3VjaCkge1xyXG4gICAgICAgIHJldHVybiAhKGlzVG91Y2hlZCB8fCBpc0JsdXJFdmVudCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1N1Ym1pdHRlZCA/IHJlVmFsaWRhdGVNb2RlLmlzT25CbHVyIDogbW9kZS5pc09uQmx1cikge1xyXG4gICAgICAgIHJldHVybiAhaXNCbHVyRXZlbnQ7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChpc1N1Ym1pdHRlZCA/IHJlVmFsaWRhdGVNb2RlLmlzT25DaGFuZ2UgOiBtb2RlLmlzT25DaGFuZ2UpIHtcclxuICAgICAgICByZXR1cm4gaXNCbHVyRXZlbnQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufTtcblxudmFyIHVuc2V0RW1wdHlBcnJheSA9IChyZWYsIG5hbWUpID0+ICFjb21wYWN0KGdldChyZWYsIG5hbWUsIFtdKSkubGVuZ3RoICYmIHVuc2V0KHJlZiwgbmFtZSk7XG5cbnZhciBpc01lc3NhZ2UgPSAodmFsdWUpID0+IGlzU3RyaW5nKHZhbHVlKSB8fCBSZWFjdC5pc1ZhbGlkRWxlbWVudCh2YWx1ZSk7XG5cbnZhciBpc1JlZ2V4ID0gKHZhbHVlKSA9PiB2YWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cDtcblxuZnVuY3Rpb24gZ2V0VmFsaWRhdGVFcnJvcihyZXN1bHQsIHJlZiwgdHlwZSA9ICd2YWxpZGF0ZScpIHtcclxuICAgIGlmIChpc01lc3NhZ2UocmVzdWx0KSB8fFxyXG4gICAgICAgIChBcnJheS5pc0FycmF5KHJlc3VsdCkgJiYgcmVzdWx0LmV2ZXJ5KGlzTWVzc2FnZSkpIHx8XHJcbiAgICAgICAgKGlzQm9vbGVhbihyZXN1bHQpICYmICFyZXN1bHQpKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZSxcclxuICAgICAgICAgICAgbWVzc2FnZTogaXNNZXNzYWdlKHJlc3VsdCkgPyByZXN1bHQgOiAnJyxcclxuICAgICAgICAgICAgcmVmLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cblxudmFyIGdldFZhbHVlQW5kTWVzc2FnZSA9ICh2YWxpZGF0aW9uRGF0YSkgPT4gaXNPYmplY3QodmFsaWRhdGlvbkRhdGEpICYmICFpc1JlZ2V4KHZhbGlkYXRpb25EYXRhKVxyXG4gICAgPyB2YWxpZGF0aW9uRGF0YVxyXG4gICAgOiB7XHJcbiAgICAgICAgdmFsdWU6IHZhbGlkYXRpb25EYXRhLFxyXG4gICAgICAgIG1lc3NhZ2U6ICcnLFxyXG4gICAgfTtcblxudmFyIHZhbGlkYXRlRmllbGQgPSBhc3luYyAoZmllbGQsIGlucHV0VmFsdWUsIHZhbGlkYXRlQWxsRmllbGRDcml0ZXJpYSwgc2hvdWxkVXNlTmF0aXZlVmFsaWRhdGlvbikgPT4ge1xyXG4gICAgY29uc3QgeyByZWYsIHJlZnMsIHJlcXVpcmVkLCBtYXhMZW5ndGgsIG1pbkxlbmd0aCwgbWluLCBtYXgsIHBhdHRlcm4sIHZhbGlkYXRlLCBuYW1lLCB2YWx1ZUFzTnVtYmVyLCBtb3VudCwgZGlzYWJsZWQsIH0gPSBmaWVsZC5fZjtcclxuICAgIGlmICghbW91bnQgfHwgZGlzYWJsZWQpIHtcclxuICAgICAgICByZXR1cm4ge307XHJcbiAgICB9XHJcbiAgICBjb25zdCBpbnB1dFJlZiA9IHJlZnMgPyByZWZzWzBdIDogcmVmO1xyXG4gICAgY29uc3Qgc2V0Q3VzdG9tVmFsaWR0eSA9IChtZXNzYWdlKSA9PiB7XHJcbiAgICAgICAgaWYgKHNob3VsZFVzZU5hdGl2ZVZhbGlkYXRpb24gJiYgaW5wdXRSZWYucmVwb3J0VmFsaWRpdHkpIHtcclxuICAgICAgICAgICAgaW5wdXRSZWYuc2V0Q3VzdG9tVmFsaWRpdHkoaXNCb29sZWFuKG1lc3NhZ2UpID8gJycgOiBtZXNzYWdlIHx8ICcgJyk7XHJcbiAgICAgICAgICAgIGlucHV0UmVmLnJlcG9ydFZhbGlkaXR5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IGVycm9yID0ge307XHJcbiAgICBjb25zdCBpc1JhZGlvID0gaXNSYWRpb0lucHV0KHJlZik7XHJcbiAgICBjb25zdCBpc0NoZWNrQm94ID0gaXNDaGVja0JveElucHV0KHJlZik7XHJcbiAgICBjb25zdCBpc1JhZGlvT3JDaGVja2JveCA9IGlzUmFkaW8gfHwgaXNDaGVja0JveDtcclxuICAgIGNvbnN0IGlzRW1wdHkgPSAoKHZhbHVlQXNOdW1iZXIgfHwgaXNGaWxlSW5wdXQocmVmKSkgJiYgIXJlZi52YWx1ZSkgfHxcclxuICAgICAgICBpbnB1dFZhbHVlID09PSAnJyB8fFxyXG4gICAgICAgIChBcnJheS5pc0FycmF5KGlucHV0VmFsdWUpICYmICFpbnB1dFZhbHVlLmxlbmd0aCk7XHJcbiAgICBjb25zdCBhcHBlbmRFcnJvcnNDdXJyeSA9IGFwcGVuZEVycm9ycy5iaW5kKG51bGwsIG5hbWUsIHZhbGlkYXRlQWxsRmllbGRDcml0ZXJpYSwgZXJyb3IpO1xyXG4gICAgY29uc3QgZ2V0TWluTWF4TWVzc2FnZSA9IChleGNlZWRNYXgsIG1heExlbmd0aE1lc3NhZ2UsIG1pbkxlbmd0aE1lc3NhZ2UsIG1heFR5cGUgPSBJTlBVVF9WQUxJREFUSU9OX1JVTEVTLm1heExlbmd0aCwgbWluVHlwZSA9IElOUFVUX1ZBTElEQVRJT05fUlVMRVMubWluTGVuZ3RoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGV4Y2VlZE1heCA/IG1heExlbmd0aE1lc3NhZ2UgOiBtaW5MZW5ndGhNZXNzYWdlO1xyXG4gICAgICAgIGVycm9yW25hbWVdID0gT2JqZWN0LmFzc2lnbih7IHR5cGU6IGV4Y2VlZE1heCA/IG1heFR5cGUgOiBtaW5UeXBlLCBtZXNzYWdlLFxyXG4gICAgICAgICAgICByZWYgfSwgYXBwZW5kRXJyb3JzQ3VycnkoZXhjZWVkTWF4ID8gbWF4VHlwZSA6IG1pblR5cGUsIG1lc3NhZ2UpKTtcclxuICAgIH07XHJcbiAgICBpZiAocmVxdWlyZWQgJiZcclxuICAgICAgICAoKCFpc1JhZGlvT3JDaGVja2JveCAmJiAoaXNFbXB0eSB8fCBpc051bGxPclVuZGVmaW5lZChpbnB1dFZhbHVlKSkpIHx8XHJcbiAgICAgICAgICAgIChpc0Jvb2xlYW4oaW5wdXRWYWx1ZSkgJiYgIWlucHV0VmFsdWUpIHx8XHJcbiAgICAgICAgICAgIChpc0NoZWNrQm94ICYmICFnZXRDaGVja2JveFZhbHVlKHJlZnMpLmlzVmFsaWQpIHx8XHJcbiAgICAgICAgICAgIChpc1JhZGlvICYmICFnZXRSYWRpb1ZhbHVlKHJlZnMpLmlzVmFsaWQpKSkge1xyXG4gICAgICAgIGNvbnN0IHsgdmFsdWUsIG1lc3NhZ2UgfSA9IGlzTWVzc2FnZShyZXF1aXJlZClcclxuICAgICAgICAgICAgPyB7IHZhbHVlOiAhIXJlcXVpcmVkLCBtZXNzYWdlOiByZXF1aXJlZCB9XHJcbiAgICAgICAgICAgIDogZ2V0VmFsdWVBbmRNZXNzYWdlKHJlcXVpcmVkKTtcclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgZXJyb3JbbmFtZV0gPSBPYmplY3QuYXNzaWduKHsgdHlwZTogSU5QVVRfVkFMSURBVElPTl9SVUxFUy5yZXF1aXJlZCwgbWVzc2FnZSwgcmVmOiBpbnB1dFJlZiB9LCBhcHBlbmRFcnJvcnNDdXJyeShJTlBVVF9WQUxJREFUSU9OX1JVTEVTLnJlcXVpcmVkLCBtZXNzYWdlKSk7XHJcbiAgICAgICAgICAgIGlmICghdmFsaWRhdGVBbGxGaWVsZENyaXRlcmlhKSB7XHJcbiAgICAgICAgICAgICAgICBzZXRDdXN0b21WYWxpZHR5KG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKCFpc0VtcHR5ICYmICghaXNOdWxsT3JVbmRlZmluZWQobWluKSB8fCAhaXNOdWxsT3JVbmRlZmluZWQobWF4KSkpIHtcclxuICAgICAgICBsZXQgZXhjZWVkTWF4O1xyXG4gICAgICAgIGxldCBleGNlZWRNaW47XHJcbiAgICAgICAgY29uc3QgbWF4T3V0cHV0ID0gZ2V0VmFsdWVBbmRNZXNzYWdlKG1heCk7XHJcbiAgICAgICAgY29uc3QgbWluT3V0cHV0ID0gZ2V0VmFsdWVBbmRNZXNzYWdlKG1pbik7XHJcbiAgICAgICAgaWYgKCFpc05hTihpbnB1dFZhbHVlKSkge1xyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZU51bWJlciA9IHJlZi52YWx1ZUFzTnVtYmVyIHx8IHBhcnNlRmxvYXQoaW5wdXRWYWx1ZSk7XHJcbiAgICAgICAgICAgIGlmICghaXNOdWxsT3JVbmRlZmluZWQobWF4T3V0cHV0LnZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgZXhjZWVkTWF4ID0gdmFsdWVOdW1iZXIgPiBtYXhPdXRwdXQudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFpc051bGxPclVuZGVmaW5lZChtaW5PdXRwdXQudmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBleGNlZWRNaW4gPSB2YWx1ZU51bWJlciA8IG1pbk91dHB1dC52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgdmFsdWVEYXRlID0gcmVmLnZhbHVlQXNEYXRlIHx8IG5ldyBEYXRlKGlucHV0VmFsdWUpO1xyXG4gICAgICAgICAgICBpZiAoaXNTdHJpbmcobWF4T3V0cHV0LnZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgZXhjZWVkTWF4ID0gdmFsdWVEYXRlID4gbmV3IERhdGUobWF4T3V0cHV0LnZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNTdHJpbmcobWluT3V0cHV0LnZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgZXhjZWVkTWluID0gdmFsdWVEYXRlIDwgbmV3IERhdGUobWluT3V0cHV0LnZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZXhjZWVkTWF4IHx8IGV4Y2VlZE1pbikge1xyXG4gICAgICAgICAgICBnZXRNaW5NYXhNZXNzYWdlKCEhZXhjZWVkTWF4LCBtYXhPdXRwdXQubWVzc2FnZSwgbWluT3V0cHV0Lm1lc3NhZ2UsIElOUFVUX1ZBTElEQVRJT05fUlVMRVMubWF4LCBJTlBVVF9WQUxJREFUSU9OX1JVTEVTLm1pbik7XHJcbiAgICAgICAgICAgIGlmICghdmFsaWRhdGVBbGxGaWVsZENyaXRlcmlhKSB7XHJcbiAgICAgICAgICAgICAgICBzZXRDdXN0b21WYWxpZHR5KGVycm9yW25hbWVdLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKChtYXhMZW5ndGggfHwgbWluTGVuZ3RoKSAmJiAhaXNFbXB0eSAmJiBpc1N0cmluZyhpbnB1dFZhbHVlKSkge1xyXG4gICAgICAgIGNvbnN0IG1heExlbmd0aE91dHB1dCA9IGdldFZhbHVlQW5kTWVzc2FnZShtYXhMZW5ndGgpO1xyXG4gICAgICAgIGNvbnN0IG1pbkxlbmd0aE91dHB1dCA9IGdldFZhbHVlQW5kTWVzc2FnZShtaW5MZW5ndGgpO1xyXG4gICAgICAgIGNvbnN0IGV4Y2VlZE1heCA9ICFpc051bGxPclVuZGVmaW5lZChtYXhMZW5ndGhPdXRwdXQudmFsdWUpICYmXHJcbiAgICAgICAgICAgIGlucHV0VmFsdWUubGVuZ3RoID4gbWF4TGVuZ3RoT3V0cHV0LnZhbHVlO1xyXG4gICAgICAgIGNvbnN0IGV4Y2VlZE1pbiA9ICFpc051bGxPclVuZGVmaW5lZChtaW5MZW5ndGhPdXRwdXQudmFsdWUpICYmXHJcbiAgICAgICAgICAgIGlucHV0VmFsdWUubGVuZ3RoIDwgbWluTGVuZ3RoT3V0cHV0LnZhbHVlO1xyXG4gICAgICAgIGlmIChleGNlZWRNYXggfHwgZXhjZWVkTWluKSB7XHJcbiAgICAgICAgICAgIGdldE1pbk1heE1lc3NhZ2UoZXhjZWVkTWF4LCBtYXhMZW5ndGhPdXRwdXQubWVzc2FnZSwgbWluTGVuZ3RoT3V0cHV0Lm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICBpZiAoIXZhbGlkYXRlQWxsRmllbGRDcml0ZXJpYSkge1xyXG4gICAgICAgICAgICAgICAgc2V0Q3VzdG9tVmFsaWR0eShlcnJvcltuYW1lXS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlcnJvcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChwYXR0ZXJuICYmICFpc0VtcHR5ICYmIGlzU3RyaW5nKGlucHV0VmFsdWUpKSB7XHJcbiAgICAgICAgY29uc3QgeyB2YWx1ZTogcGF0dGVyblZhbHVlLCBtZXNzYWdlIH0gPSBnZXRWYWx1ZUFuZE1lc3NhZ2UocGF0dGVybik7XHJcbiAgICAgICAgaWYgKGlzUmVnZXgocGF0dGVyblZhbHVlKSAmJiAhaW5wdXRWYWx1ZS5tYXRjaChwYXR0ZXJuVmFsdWUpKSB7XHJcbiAgICAgICAgICAgIGVycm9yW25hbWVdID0gT2JqZWN0LmFzc2lnbih7IHR5cGU6IElOUFVUX1ZBTElEQVRJT05fUlVMRVMucGF0dGVybiwgbWVzc2FnZSxcclxuICAgICAgICAgICAgICAgIHJlZiB9LCBhcHBlbmRFcnJvcnNDdXJyeShJTlBVVF9WQUxJREFUSU9OX1JVTEVTLnBhdHRlcm4sIG1lc3NhZ2UpKTtcclxuICAgICAgICAgICAgaWYgKCF2YWxpZGF0ZUFsbEZpZWxkQ3JpdGVyaWEpIHtcclxuICAgICAgICAgICAgICAgIHNldEN1c3RvbVZhbGlkdHkobWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3I7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAodmFsaWRhdGUpIHtcclxuICAgICAgICBpZiAoaXNGdW5jdGlvbih2YWxpZGF0ZSkpIHtcclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdmFsaWRhdGUoaW5wdXRWYWx1ZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbGlkYXRlRXJyb3IgPSBnZXRWYWxpZGF0ZUVycm9yKHJlc3VsdCwgaW5wdXRSZWYpO1xyXG4gICAgICAgICAgICBpZiAodmFsaWRhdGVFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgZXJyb3JbbmFtZV0gPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHZhbGlkYXRlRXJyb3IpLCBhcHBlbmRFcnJvcnNDdXJyeShJTlBVVF9WQUxJREFUSU9OX1JVTEVTLnZhbGlkYXRlLCB2YWxpZGF0ZUVycm9yLm1lc3NhZ2UpKTtcclxuICAgICAgICAgICAgICAgIGlmICghdmFsaWRhdGVBbGxGaWVsZENyaXRlcmlhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0Q3VzdG9tVmFsaWR0eSh2YWxpZGF0ZUVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlcnJvcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChpc09iamVjdCh2YWxpZGF0ZSkpIHtcclxuICAgICAgICAgICAgbGV0IHZhbGlkYXRpb25SZXN1bHQgPSB7fTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdmFsaWRhdGUpIHtcclxuICAgICAgICAgICAgICAgIGlmICghaXNFbXB0eU9iamVjdCh2YWxpZGF0aW9uUmVzdWx0KSAmJiAhdmFsaWRhdGVBbGxGaWVsZENyaXRlcmlhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2YWxpZGF0ZUVycm9yID0gZ2V0VmFsaWRhdGVFcnJvcihhd2FpdCB2YWxpZGF0ZVtrZXldKGlucHV0VmFsdWUpLCBpbnB1dFJlZiwga2V5KTtcclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZGF0ZUVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdCA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdmFsaWRhdGVFcnJvciksIGFwcGVuZEVycm9yc0N1cnJ5KGtleSwgdmFsaWRhdGVFcnJvci5tZXNzYWdlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0Q3VzdG9tVmFsaWR0eSh2YWxpZGF0ZUVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZGF0ZUFsbEZpZWxkQ3JpdGVyaWEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JbbmFtZV0gPSB2YWxpZGF0aW9uUmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIWlzRW1wdHlPYmplY3QodmFsaWRhdGlvblJlc3VsdCkpIHtcclxuICAgICAgICAgICAgICAgIGVycm9yW25hbWVdID0gT2JqZWN0LmFzc2lnbih7IHJlZjogaW5wdXRSZWYgfSwgdmFsaWRhdGlvblJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXZhbGlkYXRlQWxsRmllbGRDcml0ZXJpYSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlcnJvcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHNldEN1c3RvbVZhbGlkdHkodHJ1ZSk7XHJcbiAgICByZXR1cm4gZXJyb3I7XHJcbn07XG5cbmNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xyXG4gICAgbW9kZTogVkFMSURBVElPTl9NT0RFLm9uU3VibWl0LFxyXG4gICAgcmVWYWxpZGF0ZU1vZGU6IFZBTElEQVRJT05fTU9ERS5vbkNoYW5nZSxcclxuICAgIHNob3VsZEZvY3VzRXJyb3I6IHRydWUsXHJcbn07XHJcbmNvbnN0IGlzV2luZG93VW5kZWZpbmVkID0gdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCc7XHJcbmZ1bmN0aW9uIGNyZWF0ZUZvcm1Db250cm9sKHByb3BzID0ge30pIHtcclxuICAgIGxldCBmb3JtT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMpLCBwcm9wcyk7XHJcbiAgICBsZXQgX2RlbGF5Q2FsbGJhY2s7XHJcbiAgICBsZXQgX2Zvcm1TdGF0ZSA9IHtcclxuICAgICAgICBpc0RpcnR5OiBmYWxzZSxcclxuICAgICAgICBpc1ZhbGlkYXRpbmc6IGZhbHNlLFxyXG4gICAgICAgIGRpcnR5RmllbGRzOiB7fSxcclxuICAgICAgICBpc1N1Ym1pdHRlZDogZmFsc2UsXHJcbiAgICAgICAgc3VibWl0Q291bnQ6IDAsXHJcbiAgICAgICAgdG91Y2hlZEZpZWxkczoge30sXHJcbiAgICAgICAgaXNTdWJtaXR0aW5nOiBmYWxzZSxcclxuICAgICAgICBpc1N1Ym1pdFN1Y2Nlc3NmdWw6IGZhbHNlLFxyXG4gICAgICAgIGlzVmFsaWQ6IGZhbHNlLFxyXG4gICAgICAgIGVycm9yczoge30sXHJcbiAgICB9O1xyXG4gICAgbGV0IF9maWVsZHMgPSB7fTtcclxuICAgIGxldCBfZm9ybVZhbHVlcyA9IHt9O1xyXG4gICAgbGV0IF9kZWZhdWx0VmFsdWVzID0gZm9ybU9wdGlvbnMuZGVmYXVsdFZhbHVlcyB8fCB7fTtcclxuICAgIGxldCBfaXNJbkFjdGlvbiA9IGZhbHNlO1xyXG4gICAgbGV0IF9pc01vdW50ZWQgPSBmYWxzZTtcclxuICAgIGxldCBfdGltZXIgPSAwO1xyXG4gICAgbGV0IF9uYW1lcyA9IHtcclxuICAgICAgICBtb3VudDogbmV3IFNldCgpLFxyXG4gICAgICAgIHVuTW91bnQ6IG5ldyBTZXQoKSxcclxuICAgICAgICBhcnJheTogbmV3IFNldCgpLFxyXG4gICAgICAgIHdhdGNoOiBuZXcgU2V0KCksXHJcbiAgICB9O1xyXG4gICAgbGV0IF92YWxpZGF0ZUNvdW50ID0ge307XHJcbiAgICBjb25zdCBfcHJveHlGb3JtU3RhdGUgPSB7XHJcbiAgICAgICAgaXNEaXJ0eTogZmFsc2UsXHJcbiAgICAgICAgZGlydHlGaWVsZHM6IGZhbHNlLFxyXG4gICAgICAgIHRvdWNoZWRGaWVsZHM6IGZhbHNlLFxyXG4gICAgICAgIGlzVmFsaWRhdGluZzogZmFsc2UsXHJcbiAgICAgICAgaXNWYWxpZDogZmFsc2UsXHJcbiAgICAgICAgZXJyb3JzOiBmYWxzZSxcclxuICAgIH07XHJcbiAgICBjb25zdCBfc3ViamVjdHMgPSB7XHJcbiAgICAgICAgd2F0Y2g6IG5ldyBTdWJqZWN0KCksXHJcbiAgICAgICAgY29udHJvbDogbmV3IFN1YmplY3QoKSxcclxuICAgICAgICBhcnJheTogbmV3IFN1YmplY3QoKSxcclxuICAgICAgICBzdGF0ZTogbmV3IFN1YmplY3QoKSxcclxuICAgIH07XHJcbiAgICBjb25zdCB2YWxpZGF0aW9uTW9kZSA9IGdldFZhbGlkYXRpb25Nb2Rlcyhmb3JtT3B0aW9ucy5tb2RlKTtcclxuICAgIGNvbnN0IHJlVmFsaWRhdGVNb2RlID0gZ2V0VmFsaWRhdGlvbk1vZGVzKGZvcm1PcHRpb25zLnJlVmFsaWRhdGVNb2RlKTtcclxuICAgIGNvbnN0IGlzVmFsaWRhdGVBbGxGaWVsZENyaXRlcmlhID0gZm9ybU9wdGlvbnMuY3JpdGVyaWFNb2RlID09PSBWQUxJREFUSU9OX01PREUuYWxsO1xyXG4gICAgY29uc3QgZGVib3VuY2UgPSAoY2FsbGJhY2ssIHdhaXQpID0+ICguLi5hcmdzKSA9PiB7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KF90aW1lcik7XHJcbiAgICAgICAgX3RpbWVyID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4gY2FsbGJhY2soLi4uYXJncyksIHdhaXQpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGlzRmllbGRXYXRjaGVkID0gKG5hbWUpID0+IF9uYW1lcy53YXRjaEFsbCB8fFxyXG4gICAgICAgIF9uYW1lcy53YXRjaC5oYXMobmFtZSkgfHxcclxuICAgICAgICBfbmFtZXMud2F0Y2guaGFzKChuYW1lLm1hdGNoKC9cXHcrLykgfHwgW10pWzBdKTtcclxuICAgIGNvbnN0IHVwZGF0ZUVycm9yU3RhdGUgPSAobmFtZSwgZXJyb3IpID0+IHtcclxuICAgICAgICBzZXQoX2Zvcm1TdGF0ZS5lcnJvcnMsIG5hbWUsIGVycm9yKTtcclxuICAgICAgICBfc3ViamVjdHMuc3RhdGUubmV4dCh7XHJcbiAgICAgICAgICAgIGVycm9yczogX2Zvcm1TdGF0ZS5lcnJvcnMsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgY29uc3Qgc2hvdWxkUmVuZGVyQmFzZU9uRXJyb3IgPSBhc3luYyAoc2hvdWxkU2tpcFJlbmRlciwgbmFtZSwgaXNWYWxpZCwgZXJyb3IsIGZpZWxkU3RhdGUpID0+IHtcclxuICAgICAgICBjb25zdCBwcmV2aW91c0Vycm9yID0gZ2V0KF9mb3JtU3RhdGUuZXJyb3JzLCBuYW1lKTtcclxuICAgICAgICBjb25zdCBzaG91bGRVcGRhdGVWYWxpZCA9IF9wcm94eUZvcm1TdGF0ZS5pc1ZhbGlkICYmIF9mb3JtU3RhdGUuaXNWYWxpZCAhPT0gaXNWYWxpZDtcclxuICAgICAgICBpZiAocHJvcHMuZGVsYXlFcnJvciAmJiBlcnJvcikge1xyXG4gICAgICAgICAgICBfZGVsYXlDYWxsYmFjayA9XHJcbiAgICAgICAgICAgICAgICBfZGVsYXlDYWxsYmFjayB8fCBkZWJvdW5jZSh1cGRhdGVFcnJvclN0YXRlLCBwcm9wcy5kZWxheUVycm9yKTtcclxuICAgICAgICAgICAgX2RlbGF5Q2FsbGJhY2sobmFtZSwgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KF90aW1lcik7XHJcbiAgICAgICAgICAgIGVycm9yXHJcbiAgICAgICAgICAgICAgICA/IHNldChfZm9ybVN0YXRlLmVycm9ycywgbmFtZSwgZXJyb3IpXHJcbiAgICAgICAgICAgICAgICA6IHVuc2V0KF9mb3JtU3RhdGUuZXJyb3JzLCBuYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCgoZXJyb3IgPyAhZGVlcEVxdWFsKHByZXZpb3VzRXJyb3IsIGVycm9yKSA6IHByZXZpb3VzRXJyb3IpIHx8XHJcbiAgICAgICAgICAgICFpc0VtcHR5T2JqZWN0KGZpZWxkU3RhdGUpIHx8XHJcbiAgICAgICAgICAgIHNob3VsZFVwZGF0ZVZhbGlkKSAmJlxyXG4gICAgICAgICAgICAhc2hvdWxkU2tpcFJlbmRlcikge1xyXG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkRm9ybVN0YXRlID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGZpZWxkU3RhdGUpLCAoc2hvdWxkVXBkYXRlVmFsaWQgPyB7IGlzVmFsaWQgfSA6IHt9KSksIHsgZXJyb3JzOiBfZm9ybVN0YXRlLmVycm9ycywgbmFtZSB9KTtcclxuICAgICAgICAgICAgX2Zvcm1TdGF0ZSA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgX2Zvcm1TdGF0ZSksIHVwZGF0ZWRGb3JtU3RhdGUpO1xyXG4gICAgICAgICAgICBfc3ViamVjdHMuc3RhdGUubmV4dCh1cGRhdGVkRm9ybVN0YXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgX3ZhbGlkYXRlQ291bnRbbmFtZV0tLTtcclxuICAgICAgICBpZiAoX3Byb3h5Rm9ybVN0YXRlLmlzVmFsaWRhdGluZyAmJiAhX3ZhbGlkYXRlQ291bnRbbmFtZV0pIHtcclxuICAgICAgICAgICAgX3N1YmplY3RzLnN0YXRlLm5leHQoe1xyXG4gICAgICAgICAgICAgICAgaXNWYWxpZGF0aW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIF92YWxpZGF0ZUNvdW50ID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHNldEZpZWxkVmFsdWUgPSAobmFtZSwgdmFsdWUsIG9wdGlvbnMgPSB7fSwgc2hvdWxkUmVuZGVyKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZmllbGQgPSBnZXQoX2ZpZWxkcywgbmFtZSk7XHJcbiAgICAgICAgaWYgKGZpZWxkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IF9mID0gZmllbGQuX2Y7XHJcbiAgICAgICAgICAgIGlmIChfZikge1xyXG4gICAgICAgICAgICAgICAgc2V0KF9mb3JtVmFsdWVzLCBuYW1lLCBnZXRGaWVsZFZhbHVlQXModmFsdWUsIF9mKSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZFZhbHVlID0gaXNXZWIgJiYgaXNIVE1MRWxlbWVudChfZi5yZWYpICYmIGlzTnVsbE9yVW5kZWZpbmVkKHZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgID8gJydcclxuICAgICAgICAgICAgICAgICAgICA6IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzRmlsZUlucHV0KF9mLnJlZikgJiYgIWlzU3RyaW5nKGZpZWxkVmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX2YucmVmLmZpbGVzID0gZmllbGRWYWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzTXVsdGlwbGVTZWxlY3QoX2YucmVmKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIFsuLi5fZi5yZWYub3B0aW9uc10uZm9yRWFjaCgoc2VsZWN0UmVmKSA9PiAoc2VsZWN0UmVmLnNlbGVjdGVkID0gZmllbGRWYWx1ZS5pbmNsdWRlcyhzZWxlY3RSZWYudmFsdWUpKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChfZi5yZWZzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ2hlY2tCb3hJbnB1dChfZi5yZWYpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9mLnJlZnMubGVuZ3RoID4gMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBfZi5yZWZzLmZvckVhY2goKGNoZWNrYm94UmVmKSA9PiAoY2hlY2tib3hSZWYuY2hlY2tlZCA9IEFycmF5LmlzQXJyYXkoZmllbGRWYWx1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICEhZmllbGRWYWx1ZS5maW5kKChkYXRhKSA9PiBkYXRhID09PSBjaGVja2JveFJlZi52YWx1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGZpZWxkVmFsdWUgPT09IGNoZWNrYm94UmVmLnZhbHVlKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKF9mLnJlZnNbMF0uY2hlY2tlZCA9ICEhZmllbGRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfZi5yZWZzLmZvckVhY2goKHJhZGlvUmVmKSA9PiAocmFkaW9SZWYuY2hlY2tlZCA9IHJhZGlvUmVmLnZhbHVlID09PSBmaWVsZFZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX2YucmVmLnZhbHVlID0gZmllbGRWYWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChzaG91bGRSZW5kZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBfc3ViamVjdHMuY29udHJvbC5uZXh0KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzOiBnZXRWYWx1ZXMoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIChvcHRpb25zLnNob3VsZERpcnR5IHx8IG9wdGlvbnMuc2hvdWxkVG91Y2gpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlVG91Y2hBbmREaXJ0eVN0YXRlKG5hbWUsIGZpZWxkVmFsdWUsIG9wdGlvbnMuc2hvdWxkVG91Y2gpO1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5zaG91bGRWYWxpZGF0ZSAmJiB0cmlnZ2VyKG5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHVwZGF0ZVRvdWNoQW5kRGlydHlTdGF0ZSA9IChuYW1lLCBpbnB1dFZhbHVlLCBpc0N1cnJlbnRUb3VjaGVkLCBzaG91bGRSZW5kZXIgPSB0cnVlKSA9PiB7XHJcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBsZXQgaXNDaGFuZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKF9wcm94eUZvcm1TdGF0ZS5pc0RpcnR5KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzSXNEaXJ0eSA9IF9mb3JtU3RhdGUuaXNEaXJ0eTtcclxuICAgICAgICAgICAgX2Zvcm1TdGF0ZS5pc0RpcnR5ID0gX2dldElzRGlydHkoKTtcclxuICAgICAgICAgICAgc3RhdGUuaXNEaXJ0eSA9IF9mb3JtU3RhdGUuaXNEaXJ0eTtcclxuICAgICAgICAgICAgaXNDaGFuZ2VkID0gcHJldmlvdXNJc0RpcnR5ICE9PSBzdGF0ZS5pc0RpcnR5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoX3Byb3h5Rm9ybVN0YXRlLmRpcnR5RmllbGRzICYmICFpc0N1cnJlbnRUb3VjaGVkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzUHJldmlvdXNGaWVsZERpcnR5ID0gZ2V0KF9mb3JtU3RhdGUuZGlydHlGaWVsZHMsIG5hbWUpO1xyXG4gICAgICAgICAgICBjb25zdCBpc0N1cnJlbnRGaWVsZERpcnR5ID0gIWRlZXBFcXVhbChnZXQoX2RlZmF1bHRWYWx1ZXMsIG5hbWUpLCBpbnB1dFZhbHVlKTtcclxuICAgICAgICAgICAgaXNDdXJyZW50RmllbGREaXJ0eVxyXG4gICAgICAgICAgICAgICAgPyBzZXQoX2Zvcm1TdGF0ZS5kaXJ0eUZpZWxkcywgbmFtZSwgdHJ1ZSlcclxuICAgICAgICAgICAgICAgIDogdW5zZXQoX2Zvcm1TdGF0ZS5kaXJ0eUZpZWxkcywgbmFtZSk7XHJcbiAgICAgICAgICAgIHN0YXRlLmRpcnR5RmllbGRzID0gX2Zvcm1TdGF0ZS5kaXJ0eUZpZWxkcztcclxuICAgICAgICAgICAgaXNDaGFuZ2VkID1cclxuICAgICAgICAgICAgICAgIGlzQ2hhbmdlZCB8fCBpc1ByZXZpb3VzRmllbGREaXJ0eSAhPT0gZ2V0KF9mb3JtU3RhdGUuZGlydHlGaWVsZHMsIG5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBpc1ByZXZpb3VzRmllbGRUb3VjaGVkID0gZ2V0KF9mb3JtU3RhdGUudG91Y2hlZEZpZWxkcywgbmFtZSk7XHJcbiAgICAgICAgaWYgKGlzQ3VycmVudFRvdWNoZWQgJiYgIWlzUHJldmlvdXNGaWVsZFRvdWNoZWQpIHtcclxuICAgICAgICAgICAgc2V0KF9mb3JtU3RhdGUudG91Y2hlZEZpZWxkcywgbmFtZSwgaXNDdXJyZW50VG91Y2hlZCk7XHJcbiAgICAgICAgICAgIHN0YXRlLnRvdWNoZWRGaWVsZHMgPSBfZm9ybVN0YXRlLnRvdWNoZWRGaWVsZHM7XHJcbiAgICAgICAgICAgIGlzQ2hhbmdlZCA9XHJcbiAgICAgICAgICAgICAgICBpc0NoYW5nZWQgfHxcclxuICAgICAgICAgICAgICAgICAgICAoX3Byb3h5Rm9ybVN0YXRlLnRvdWNoZWRGaWVsZHMgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNQcmV2aW91c0ZpZWxkVG91Y2hlZCAhPT0gaXNDdXJyZW50VG91Y2hlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlzQ2hhbmdlZCAmJiBzaG91bGRSZW5kZXIgJiYgX3N1YmplY3RzLnN0YXRlLm5leHQoc3RhdGUpO1xyXG4gICAgICAgIHJldHVybiBpc0NoYW5nZWQgPyBzdGF0ZSA6IHt9O1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGV4ZWN1dGVSZXNvbHZlciA9IGFzeW5jIChuYW1lKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGZvcm1PcHRpb25zLnJlc29sdmVyXHJcbiAgICAgICAgICAgID8gYXdhaXQgZm9ybU9wdGlvbnMucmVzb2x2ZXIoT2JqZWN0LmFzc2lnbih7fSwgX2Zvcm1WYWx1ZXMpLCBmb3JtT3B0aW9ucy5jb250ZXh0LCBnZXRSZXNvbHZlck9wdGlvbnMobmFtZSB8fCBfbmFtZXMubW91bnQsIF9maWVsZHMsIGZvcm1PcHRpb25zLmNyaXRlcmlhTW9kZSwgZm9ybU9wdGlvbnMuc2hvdWxkVXNlTmF0aXZlVmFsaWRhdGlvbikpXHJcbiAgICAgICAgICAgIDoge307XHJcbiAgICB9O1xyXG4gICAgY29uc3QgZXhlY3V0ZVJlc29sdmVyVmFsaWRhdGlvbiA9IGFzeW5jIChuYW1lcykgPT4ge1xyXG4gICAgICAgIGNvbnN0IHsgZXJyb3JzIH0gPSBhd2FpdCBleGVjdXRlUmVzb2x2ZXIoKTtcclxuICAgICAgICBpZiAobmFtZXMpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIG5hbWVzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IGdldChlcnJvcnMsIG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgZXJyb3JcclxuICAgICAgICAgICAgICAgICAgICA/IHNldChfZm9ybVN0YXRlLmVycm9ycywgbmFtZSwgZXJyb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgOiB1bnNldChfZm9ybVN0YXRlLmVycm9ycywgbmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIF9mb3JtU3RhdGUuZXJyb3JzID0gZXJyb3JzO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZXJyb3JzO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IHZhbGlkYXRlRm9ybSA9IGFzeW5jIChfZmllbGRzLCBzaG91bGRDaGVja1ZhbGlkLCBjb250ZXh0ID0ge1xyXG4gICAgICAgIHZhbGlkOiB0cnVlLFxyXG4gICAgfSkgPT4ge1xyXG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBpbiBfZmllbGRzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkID0gX2ZpZWxkc1tuYW1lXTtcclxuICAgICAgICAgICAgaWYgKGZpZWxkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBfZiA9IGZpZWxkLl9mO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZmllbGRWYWx1ZSA9IG9taXQoZmllbGQsICdfZicpO1xyXG4gICAgICAgICAgICAgICAgaWYgKF9mKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmllbGRFcnJvciA9IGF3YWl0IHZhbGlkYXRlRmllbGQoZmllbGQsIGdldChfZm9ybVZhbHVlcywgX2YubmFtZSksIGlzVmFsaWRhdGVBbGxGaWVsZENyaXRlcmlhLCBmb3JtT3B0aW9ucy5zaG91bGRVc2VOYXRpdmVWYWxpZGF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGRFcnJvcltfZi5uYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaG91bGRDaGVja1ZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNob3VsZENoZWNrVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRFcnJvcltfZi5uYW1lXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzZXQoX2Zvcm1TdGF0ZS5lcnJvcnMsIF9mLm5hbWUsIGZpZWxkRXJyb3JbX2YubmFtZV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHVuc2V0KF9mb3JtU3RhdGUuZXJyb3JzLCBfZi5uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmaWVsZFZhbHVlICYmXHJcbiAgICAgICAgICAgICAgICAgICAgKGF3YWl0IHZhbGlkYXRlRm9ybShmaWVsZFZhbHVlLCBzaG91bGRDaGVja1ZhbGlkLCBjb250ZXh0KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbnRleHQudmFsaWQ7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgaGFuZGxlQ2hhbmdlID0gYXN5bmMgKHsgdHlwZSwgdGFyZ2V0LCB0YXJnZXQ6IHsgdmFsdWUsIG5hbWUsIHR5cGU6IGlucHV0VHlwZSB9LCB9KSA9PiB7XHJcbiAgICAgICAgY29uc3QgZmllbGQgPSBnZXQoX2ZpZWxkcywgbmFtZSk7XHJcbiAgICAgICAgaWYgKGZpZWxkKSB7XHJcbiAgICAgICAgICAgIGxldCBlcnJvcjtcclxuICAgICAgICAgICAgbGV0IGlzVmFsaWQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGlucHV0VmFsdWUgPSBpbnB1dFR5cGUgPyBnZXRGaWVsZFZhbHVlKGZpZWxkLl9mKSA6IHZhbHVlO1xyXG4gICAgICAgICAgICBjb25zdCBpc0JsdXJFdmVudCA9IHR5cGUgPT09IEVWRU5UUy5CTFVSO1xyXG4gICAgICAgICAgICBjb25zdCBzaG91bGRTa2lwVmFsaWRhdGlvbiA9ICghaGFzVmFsaWRhdGlvbihmaWVsZC5fZikgJiZcclxuICAgICAgICAgICAgICAgICFmb3JtT3B0aW9ucy5yZXNvbHZlciAmJlxyXG4gICAgICAgICAgICAgICAgIWdldChfZm9ybVN0YXRlLmVycm9ycywgbmFtZSkgJiZcclxuICAgICAgICAgICAgICAgICFmaWVsZC5fZi5kZXBzKSB8fFxyXG4gICAgICAgICAgICAgICAgc2tpcFZhbGlkYXRpb24oaXNCbHVyRXZlbnQsIGdldChfZm9ybVN0YXRlLnRvdWNoZWRGaWVsZHMsIG5hbWUpLCBfZm9ybVN0YXRlLmlzU3VibWl0dGVkLCByZVZhbGlkYXRlTW9kZSwgdmFsaWRhdGlvbk1vZGUpO1xyXG4gICAgICAgICAgICBjb25zdCBpc1dhdGNoZWQgPSAhaXNCbHVyRXZlbnQgJiYgaXNGaWVsZFdhdGNoZWQobmFtZSk7XHJcbiAgICAgICAgICAgIHNldChfZm9ybVZhbHVlcywgbmFtZSwgaW5wdXRWYWx1ZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkU3RhdGUgPSB1cGRhdGVUb3VjaEFuZERpcnR5U3RhdGUobmFtZSwgaW5wdXRWYWx1ZSwgaXNCbHVyRXZlbnQsIGZhbHNlKTtcclxuICAgICAgICAgICAgY29uc3Qgc2hvdWxkUmVuZGVyID0gIWlzRW1wdHlPYmplY3QoZmllbGRTdGF0ZSkgfHwgaXNXYXRjaGVkO1xyXG4gICAgICAgICAgICAhaXNCbHVyRXZlbnQgJiZcclxuICAgICAgICAgICAgICAgIF9zdWJqZWN0cy53YXRjaC5uZXh0KHtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKHNob3VsZFNraXBWYWxpZGF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKHNob3VsZFJlbmRlciAmJlxyXG4gICAgICAgICAgICAgICAgICAgIF9zdWJqZWN0cy5zdGF0ZS5uZXh0KE9iamVjdC5hc3NpZ24oeyBuYW1lIH0sIChpc1dhdGNoZWQgPyB7fSA6IGZpZWxkU3RhdGUpKSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICFpc0JsdXJFdmVudCAmJiBpc1dhdGNoZWQgJiYgX3N1YmplY3RzLnN0YXRlLm5leHQoe30pO1xyXG4gICAgICAgICAgICBfdmFsaWRhdGVDb3VudFtuYW1lXSA9IF92YWxpZGF0ZUNvdW50W25hbWVdID8gKzEgOiAxO1xyXG4gICAgICAgICAgICBfcHJveHlGb3JtU3RhdGUuaXNWYWxpZGF0aW5nICYmXHJcbiAgICAgICAgICAgICAgICBfc3ViamVjdHMuc3RhdGUubmV4dCh7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNWYWxpZGF0aW5nOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmIChmb3JtT3B0aW9ucy5yZXNvbHZlcikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyBlcnJvcnMgfSA9IGF3YWl0IGV4ZWN1dGVSZXNvbHZlcihbbmFtZV0pO1xyXG4gICAgICAgICAgICAgICAgZXJyb3IgPSBnZXQoZXJyb3JzLCBuYW1lKTtcclxuICAgICAgICAgICAgICAgIGlmIChpc0NoZWNrQm94SW5wdXQodGFyZ2V0KSAmJiAhZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnROb2RlTmFtZSA9IGdldE5vZGVQYXJlbnROYW1lKG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudEZpZWxkID0gZ2V0KF9maWVsZHMsIHBhcmVudE5vZGVOYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJlbnRGaWVsZCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50RmllbGQuZXZlcnkoKGZpZWxkKSA9PiBmaWVsZC5fZiAmJiBpc0NoZWNrQm94SW5wdXQoZmllbGQuX2YucmVmKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyZW50RXJyb3IgPSBnZXQoZXJyb3JzLCBwYXJlbnROb2RlTmFtZSwge30pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRFcnJvci50eXBlICYmIChlcnJvciA9IHBhcmVudEVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9IHBhcmVudE5vZGVOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlzVmFsaWQgPSBpc0VtcHR5T2JqZWN0KGVycm9ycyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBlcnJvciA9IChhd2FpdCB2YWxpZGF0ZUZpZWxkKGZpZWxkLCBnZXQoX2Zvcm1WYWx1ZXMsIG5hbWUpLCBpc1ZhbGlkYXRlQWxsRmllbGRDcml0ZXJpYSwgZm9ybU9wdGlvbnMuc2hvdWxkVXNlTmF0aXZlVmFsaWRhdGlvbikpW25hbWVdO1xyXG4gICAgICAgICAgICAgICAgaXNWYWxpZCA9IGF3YWl0IF91cGRhdGVWYWxpZCh0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZmllbGQuX2YuZGVwcykge1xyXG4gICAgICAgICAgICAgICAgdHJpZ2dlcihmaWVsZC5fZi5kZXBzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzaG91bGRSZW5kZXJCYXNlT25FcnJvcihmYWxzZSwgbmFtZSwgaXNWYWxpZCwgZXJyb3IsIGZpZWxkU3RhdGUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBfdXBkYXRlVmFsaWRBbmRJbnB1dFZhbHVlID0gKG5hbWUsIHJlZiwgc2hvdWxkU2tpcFZhbHVlQXMpID0+IHtcclxuICAgICAgICBjb25zdCBmaWVsZCA9IGdldChfZmllbGRzLCBuYW1lKTtcclxuICAgICAgICBpZiAoZmllbGQpIHtcclxuICAgICAgICAgICAgY29uc3QgZmllbGRWYWx1ZSA9IGdldChfZm9ybVZhbHVlcywgbmFtZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IGlzVW5kZWZpbmVkKGZpZWxkVmFsdWUpXHJcbiAgICAgICAgICAgICAgICA/IGdldChfZGVmYXVsdFZhbHVlcywgbmFtZSlcclxuICAgICAgICAgICAgICAgIDogZmllbGRWYWx1ZTtcclxuICAgICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKGRlZmF1bHRWYWx1ZSkgfHxcclxuICAgICAgICAgICAgICAgIChyZWYgJiYgcmVmLmRlZmF1bHRDaGVja2VkKSB8fFxyXG4gICAgICAgICAgICAgICAgc2hvdWxkU2tpcFZhbHVlQXMpIHtcclxuICAgICAgICAgICAgICAgIHNldChfZm9ybVZhbHVlcywgbmFtZSwgc2hvdWxkU2tpcFZhbHVlQXMgPyBkZWZhdWx0VmFsdWUgOiBnZXRGaWVsZFZhbHVlKGZpZWxkLl9mKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzZXRGaWVsZFZhbHVlKG5hbWUsIGRlZmF1bHRWYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgX2lzTW91bnRlZCAmJiBfdXBkYXRlVmFsaWQoKTtcclxuICAgIH07XHJcbiAgICBjb25zdCBfZ2V0SXNEaXJ0eSA9IChuYW1lLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgbmFtZSAmJiBkYXRhICYmIHNldChfZm9ybVZhbHVlcywgbmFtZSwgZGF0YSk7XHJcbiAgICAgICAgcmV0dXJuICFkZWVwRXF1YWwoT2JqZWN0LmFzc2lnbih7fSwgZ2V0VmFsdWVzKCkpLCBfZGVmYXVsdFZhbHVlcyk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgX3VwZGF0ZVZhbGlkID0gYXN5bmMgKHNraXBSZW5kZXIpID0+IHtcclxuICAgICAgICBsZXQgaXNWYWxpZCA9IGZhbHNlO1xyXG4gICAgICAgIGlmIChfcHJveHlGb3JtU3RhdGUuaXNWYWxpZCkge1xyXG4gICAgICAgICAgICBpc1ZhbGlkID0gZm9ybU9wdGlvbnMucmVzb2x2ZXJcclxuICAgICAgICAgICAgICAgID8gaXNFbXB0eU9iamVjdCgoYXdhaXQgZXhlY3V0ZVJlc29sdmVyKCkpLmVycm9ycylcclxuICAgICAgICAgICAgICAgIDogYXdhaXQgdmFsaWRhdGVGb3JtKF9maWVsZHMsIHRydWUpO1xyXG4gICAgICAgICAgICBpZiAoIXNraXBSZW5kZXIgJiYgaXNWYWxpZCAhPT0gX2Zvcm1TdGF0ZS5pc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBfZm9ybVN0YXRlLmlzVmFsaWQgPSBpc1ZhbGlkO1xyXG4gICAgICAgICAgICAgICAgX3N1YmplY3RzLnN0YXRlLm5leHQoe1xyXG4gICAgICAgICAgICAgICAgICAgIGlzVmFsaWQsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaXNWYWxpZDtcclxuICAgIH07XHJcbiAgICBjb25zdCBzZXRWYWx1ZXMgPSAobmFtZSwgdmFsdWUsIG9wdGlvbnMpID0+IE9iamVjdC5lbnRyaWVzKHZhbHVlKS5mb3JFYWNoKChbZmllbGRLZXksIGZpZWxkVmFsdWVdKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZmllbGROYW1lID0gYCR7bmFtZX0uJHtmaWVsZEtleX1gO1xyXG4gICAgICAgIGNvbnN0IGZpZWxkID0gZ2V0KF9maWVsZHMsIGZpZWxkTmFtZSk7XHJcbiAgICAgICAgKF9uYW1lcy5hcnJheS5oYXMobmFtZSkgfHxcclxuICAgICAgICAgICAgIWlzUHJpbWl0aXZlKGZpZWxkVmFsdWUpIHx8XHJcbiAgICAgICAgICAgIChmaWVsZCAmJiAhZmllbGQuX2YpKSAmJlxyXG4gICAgICAgICAgICAhaXNEYXRlT2JqZWN0KGZpZWxkVmFsdWUpXHJcbiAgICAgICAgICAgID8gc2V0VmFsdWVzKGZpZWxkTmFtZSwgZmllbGRWYWx1ZSwgb3B0aW9ucylcclxuICAgICAgICAgICAgOiBzZXRGaWVsZFZhbHVlKGZpZWxkTmFtZSwgZmllbGRWYWx1ZSwgb3B0aW9ucywgdHJ1ZSk7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IF9nZXRXYXRjaCA9IChmaWVsZE5hbWVzLCBkZWZhdWx0VmFsdWUsIGlzTW91bnRlZCwgaXNHbG9iYWwpID0+IHtcclxuICAgICAgICBjb25zdCBmaWVsZFZhbHVlcyA9IE9iamVjdC5hc3NpZ24oe30sIChpc01vdW50ZWQgfHwgX2lzTW91bnRlZFxyXG4gICAgICAgICAgICA/IF9mb3JtVmFsdWVzXHJcbiAgICAgICAgICAgIDogaXNVbmRlZmluZWQoZGVmYXVsdFZhbHVlKVxyXG4gICAgICAgICAgICAgICAgPyBfZGVmYXVsdFZhbHVlc1xyXG4gICAgICAgICAgICAgICAgOiBpc1N0cmluZyhmaWVsZE5hbWVzKVxyXG4gICAgICAgICAgICAgICAgICAgID8geyBbZmllbGROYW1lc106IGRlZmF1bHRWYWx1ZSB9XHJcbiAgICAgICAgICAgICAgICAgICAgOiBkZWZhdWx0VmFsdWUpKTtcclxuICAgICAgICBpZiAoIWZpZWxkTmFtZXMpIHtcclxuICAgICAgICAgICAgaXNHbG9iYWwgJiYgKF9uYW1lcy53YXRjaEFsbCA9IHRydWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmllbGRWYWx1ZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xyXG4gICAgICAgIGZvciAoY29uc3QgZmllbGROYW1lIG9mIGNvbnZlcnRUb0FycmF5UGF5bG9hZChmaWVsZE5hbWVzKSkge1xyXG4gICAgICAgICAgICBpc0dsb2JhbCAmJiBfbmFtZXMud2F0Y2guYWRkKGZpZWxkTmFtZSk7XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGdldChmaWVsZFZhbHVlcywgZmllbGROYW1lKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KGZpZWxkTmFtZXMpID8gcmVzdWx0IDogcmVzdWx0WzBdO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IF91cGRhdGVWYWx1ZXMgPSAoZGVmYXVsdFZhbHVlcywgbmFtZSA9ICcnKSA9PiB7XHJcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGVmYXVsdFZhbHVlcykge1xyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGRlZmF1bHRWYWx1ZXNba2V5XTtcclxuICAgICAgICAgICAgY29uc3QgZmllbGROYW1lID0gbmFtZSArIChuYW1lID8gJy4nIDogJycpICsga2V5O1xyXG4gICAgICAgICAgICBjb25zdCBmaWVsZCA9IGdldChfZmllbGRzLCBmaWVsZE5hbWUpO1xyXG4gICAgICAgICAgICBpZiAoIWZpZWxkIHx8ICFmaWVsZC5fZikge1xyXG4gICAgICAgICAgICAgICAgaWYgKChpc09iamVjdCh2YWx1ZSkgJiYgT2JqZWN0LmtleXModmFsdWUpLmxlbmd0aCkgfHxcclxuICAgICAgICAgICAgICAgICAgICAoQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIF91cGRhdGVWYWx1ZXModmFsdWUsIGZpZWxkTmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghZmllbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXQoX2Zvcm1WYWx1ZXMsIGZpZWxkTmFtZSwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IF91cGRhdGVGaWVsZEFycmF5ID0gKGtleU5hbWUsIG5hbWUsIG1ldGhvZCwgYXJncywgdXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXNXaXRoS2V5ID0gW10sIHNob3VsZFNldCA9IHRydWUsIHNob3VsZFNldEZpZWxkcyA9IHRydWUpID0+IHtcclxuICAgICAgICBsZXQgb3V0cHV0O1xyXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzID0gb21pdEtleSh1cGRhdGVkRmllbGRBcnJheVZhbHVlc1dpdGhLZXksIGtleU5hbWUpO1xyXG4gICAgICAgIF9pc0luQWN0aW9uID0gdHJ1ZTtcclxuICAgICAgICBpZiAoc2hvdWxkU2V0RmllbGRzICYmIGdldChfZmllbGRzLCBuYW1lKSkge1xyXG4gICAgICAgICAgICBvdXRwdXQgPSBtZXRob2QoZ2V0KF9maWVsZHMsIG5hbWUpLCBhcmdzLmFyZ0EsIGFyZ3MuYXJnQik7XHJcbiAgICAgICAgICAgIHNob3VsZFNldCAmJiBzZXQoX2ZpZWxkcywgbmFtZSwgb3V0cHV0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgb3V0cHV0ID0gbWV0aG9kKGdldChfZm9ybVZhbHVlcywgbmFtZSksIGFyZ3MuYXJnQSwgYXJncy5hcmdCKTtcclxuICAgICAgICBzaG91bGRTZXQgJiYgc2V0KF9mb3JtVmFsdWVzLCBuYW1lLCBvdXRwdXQpO1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGdldChfZm9ybVN0YXRlLmVycm9ycywgbmFtZSkpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG91dHB1dCA9IG1ldGhvZChnZXQoX2Zvcm1TdGF0ZS5lcnJvcnMsIG5hbWUpLCBhcmdzLmFyZ0EsIGFyZ3MuYXJnQik7XHJcbiAgICAgICAgICAgIHNob3VsZFNldCAmJiBzZXQoX2Zvcm1TdGF0ZS5lcnJvcnMsIG5hbWUsIG91dHB1dCk7XHJcbiAgICAgICAgICAgIHVuc2V0RW1wdHlBcnJheShfZm9ybVN0YXRlLmVycm9ycywgbmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChfcHJveHlGb3JtU3RhdGUudG91Y2hlZEZpZWxkcyAmJiBnZXQoX2Zvcm1TdGF0ZS50b3VjaGVkRmllbGRzLCBuYW1lKSkge1xyXG4gICAgICAgICAgICBjb25zdCBvdXRwdXQgPSBtZXRob2QoZ2V0KF9mb3JtU3RhdGUudG91Y2hlZEZpZWxkcywgbmFtZSksIGFyZ3MuYXJnQSwgYXJncy5hcmdCKTtcclxuICAgICAgICAgICAgc2hvdWxkU2V0ICYmIHNldChfZm9ybVN0YXRlLnRvdWNoZWRGaWVsZHMsIG5hbWUsIG91dHB1dCk7XHJcbiAgICAgICAgICAgIHVuc2V0RW1wdHlBcnJheShfZm9ybVN0YXRlLnRvdWNoZWRGaWVsZHMsIG5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoX3Byb3h5Rm9ybVN0YXRlLmRpcnR5RmllbGRzIHx8IF9wcm94eUZvcm1TdGF0ZS5pc0RpcnR5KSB7XHJcbiAgICAgICAgICAgIHNldChfZm9ybVN0YXRlLmRpcnR5RmllbGRzLCBuYW1lLCBzZXRGaWVsZEFycmF5RGlydHlGaWVsZHMob21pdEtleSh1cGRhdGVkRmllbGRBcnJheVZhbHVlcywga2V5TmFtZSksIGdldChfZGVmYXVsdFZhbHVlcywgbmFtZSwgW10pLCBnZXQoX2Zvcm1TdGF0ZS5kaXJ0eUZpZWxkcywgbmFtZSwgW10pKSk7XHJcbiAgICAgICAgICAgIHVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzICYmXHJcbiAgICAgICAgICAgICAgICBzZXQoX2Zvcm1TdGF0ZS5kaXJ0eUZpZWxkcywgbmFtZSwgc2V0RmllbGRBcnJheURpcnR5RmllbGRzKG9taXRLZXkodXBkYXRlZEZpZWxkQXJyYXlWYWx1ZXMsIGtleU5hbWUpLCBnZXQoX2RlZmF1bHRWYWx1ZXMsIG5hbWUsIFtdKSwgZ2V0KF9mb3JtU3RhdGUuZGlydHlGaWVsZHMsIG5hbWUsIFtdKSkpO1xyXG4gICAgICAgICAgICB1bnNldEVtcHR5QXJyYXkoX2Zvcm1TdGF0ZS5kaXJ0eUZpZWxkcywgbmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIF9zdWJqZWN0cy5zdGF0ZS5uZXh0KHtcclxuICAgICAgICAgICAgaXNEaXJ0eTogX2dldElzRGlydHkobmFtZSwgb21pdEtleSh1cGRhdGVkRmllbGRBcnJheVZhbHVlcywga2V5TmFtZSkpLFxyXG4gICAgICAgICAgICBkaXJ0eUZpZWxkczogX2Zvcm1TdGF0ZS5kaXJ0eUZpZWxkcyxcclxuICAgICAgICAgICAgZXJyb3JzOiBfZm9ybVN0YXRlLmVycm9ycyxcclxuICAgICAgICAgICAgaXNWYWxpZDogX2Zvcm1TdGF0ZS5pc1ZhbGlkLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IF9nZXRGaWVsZEFycmF5VmFsdWUgPSAobmFtZSkgPT4gZ2V0KF9pc01vdW50ZWQgPyBfZm9ybVZhbHVlcyA6IF9kZWZhdWx0VmFsdWVzLCBuYW1lLCBbXSk7XHJcbiAgICBjb25zdCBzZXRWYWx1ZSA9IChuYW1lLCB2YWx1ZSwgb3B0aW9ucyA9IHt9KSA9PiB7XHJcbiAgICAgICAgY29uc3QgZmllbGQgPSBnZXQoX2ZpZWxkcywgbmFtZSk7XHJcbiAgICAgICAgY29uc3QgaXNGaWVsZEFycmF5ID0gX25hbWVzLmFycmF5LmhhcyhuYW1lKTtcclxuICAgICAgICBzZXQoX2Zvcm1WYWx1ZXMsIG5hbWUsIHZhbHVlKTtcclxuICAgICAgICBpZiAoaXNGaWVsZEFycmF5KSB7XHJcbiAgICAgICAgICAgIF9zdWJqZWN0cy5hcnJheS5uZXh0KHtcclxuICAgICAgICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZXM6IF9mb3JtVmFsdWVzLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKChfcHJveHlGb3JtU3RhdGUuaXNEaXJ0eSB8fCBfcHJveHlGb3JtU3RhdGUuZGlydHlGaWVsZHMpICYmXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLnNob3VsZERpcnR5KSB7XHJcbiAgICAgICAgICAgICAgICBzZXQoX2Zvcm1TdGF0ZS5kaXJ0eUZpZWxkcywgbmFtZSwgc2V0RmllbGRBcnJheURpcnR5RmllbGRzKHZhbHVlLCBnZXQoX2RlZmF1bHRWYWx1ZXMsIG5hbWUsIFtdKSwgZ2V0KF9mb3JtU3RhdGUuZGlydHlGaWVsZHMsIG5hbWUsIFtdKSkpO1xyXG4gICAgICAgICAgICAgICAgX3N1YmplY3RzLnN0YXRlLm5leHQoe1xyXG4gICAgICAgICAgICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlydHlGaWVsZHM6IF9mb3JtU3RhdGUuZGlydHlGaWVsZHMsXHJcbiAgICAgICAgICAgICAgICAgICAgaXNEaXJ0eTogX2dldElzRGlydHkobmFtZSwgdmFsdWUpLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGZpZWxkICYmICFmaWVsZC5fZiAmJiAhaXNOdWxsT3JVbmRlZmluZWQodmFsdWUpXHJcbiAgICAgICAgICAgICAgICA/IHNldFZhbHVlcyhuYW1lLCB2YWx1ZSwgb3B0aW9ucylcclxuICAgICAgICAgICAgICAgIDogc2V0RmllbGRWYWx1ZShuYW1lLCB2YWx1ZSwgb3B0aW9ucywgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlzRmllbGRXYXRjaGVkKG5hbWUpICYmIF9zdWJqZWN0cy5zdGF0ZS5uZXh0KHt9KTtcclxuICAgICAgICBfc3ViamVjdHMud2F0Y2gubmV4dCh7XHJcbiAgICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgdHJpZ2dlciA9IGFzeW5jIChuYW1lLCBvcHRpb25zID0ge30pID0+IHtcclxuICAgICAgICBjb25zdCBmaWVsZE5hbWVzID0gY29udmVydFRvQXJyYXlQYXlsb2FkKG5hbWUpO1xyXG4gICAgICAgIGxldCBpc1ZhbGlkO1xyXG4gICAgICAgIF9zdWJqZWN0cy5zdGF0ZS5uZXh0KHtcclxuICAgICAgICAgICAgaXNWYWxpZGF0aW5nOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChmb3JtT3B0aW9ucy5yZXNvbHZlcikge1xyXG4gICAgICAgICAgICBjb25zdCBzY2hlbWFSZXN1bHQgPSBhd2FpdCBleGVjdXRlUmVzb2x2ZXJWYWxpZGF0aW9uKGlzVW5kZWZpbmVkKG5hbWUpID8gbmFtZSA6IGZpZWxkTmFtZXMpO1xyXG4gICAgICAgICAgICBpc1ZhbGlkID0gbmFtZVxyXG4gICAgICAgICAgICAgICAgPyBmaWVsZE5hbWVzLmV2ZXJ5KChuYW1lKSA9PiAhZ2V0KHNjaGVtYVJlc3VsdCwgbmFtZSkpXHJcbiAgICAgICAgICAgICAgICA6IGlzRW1wdHlPYmplY3Qoc2NoZW1hUmVzdWx0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpc1ZhbGlkID0gKGF3YWl0IFByb21pc2UuYWxsKGZpZWxkTmFtZXMubWFwKGFzeW5jIChmaWVsZE5hbWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWVsZCA9IGdldChfZmllbGRzLCBmaWVsZE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB2YWxpZGF0ZUZvcm0oZmllbGQuX2YgPyB7IFtmaWVsZE5hbWVdOiBmaWVsZCB9IDogZmllbGQpO1xyXG4gICAgICAgICAgICAgICAgfSkpKS5ldmVyeShCb29sZWFuKTtcclxuICAgICAgICAgICAgICAgIF91cGRhdGVWYWxpZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaXNWYWxpZCA9IGF3YWl0IHZhbGlkYXRlRm9ybShfZmllbGRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBfc3ViamVjdHMuc3RhdGUubmV4dChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIChpc1N0cmluZyhuYW1lKSA/IHsgbmFtZSB9IDoge30pKSwgeyBlcnJvcnM6IF9mb3JtU3RhdGUuZXJyb3JzLCBpc1ZhbGlkLCBpc1ZhbGlkYXRpbmc6IGZhbHNlIH0pKTtcclxuICAgICAgICBpZiAob3B0aW9ucy5zaG91bGRGb2N1cyAmJiAhaXNWYWxpZCkge1xyXG4gICAgICAgICAgICBmb2N1c0ZpZWxkQnkoX2ZpZWxkcywgKGtleSkgPT4gZ2V0KF9mb3JtU3RhdGUuZXJyb3JzLCBrZXkpLCBuYW1lID8gZmllbGROYW1lcyA6IF9uYW1lcy5tb3VudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpc1ZhbGlkO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGdldFZhbHVlcyA9IChmaWVsZE5hbWVzKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdmFsdWVzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBfZGVmYXVsdFZhbHVlcyksIChfaXNNb3VudGVkID8gX2Zvcm1WYWx1ZXMgOiB7fSkpO1xyXG4gICAgICAgIHJldHVybiBpc1VuZGVmaW5lZChmaWVsZE5hbWVzKVxyXG4gICAgICAgICAgICA/IHZhbHVlc1xyXG4gICAgICAgICAgICA6IGlzU3RyaW5nKGZpZWxkTmFtZXMpXHJcbiAgICAgICAgICAgICAgICA/IGdldCh2YWx1ZXMsIGZpZWxkTmFtZXMpXHJcbiAgICAgICAgICAgICAgICA6IGZpZWxkTmFtZXMubWFwKChuYW1lKSA9PiBnZXQodmFsdWVzLCBuYW1lKSk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgY2xlYXJFcnJvcnMgPSAobmFtZSkgPT4ge1xyXG4gICAgICAgIG5hbWVcclxuICAgICAgICAgICAgPyBjb252ZXJ0VG9BcnJheVBheWxvYWQobmFtZSkuZm9yRWFjaCgoaW5wdXROYW1lKSA9PiB1bnNldChfZm9ybVN0YXRlLmVycm9ycywgaW5wdXROYW1lKSlcclxuICAgICAgICAgICAgOiAoX2Zvcm1TdGF0ZS5lcnJvcnMgPSB7fSk7XHJcbiAgICAgICAgX3N1YmplY3RzLnN0YXRlLm5leHQoe1xyXG4gICAgICAgICAgICBlcnJvcnM6IF9mb3JtU3RhdGUuZXJyb3JzLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IHNldEVycm9yID0gKG5hbWUsIGVycm9yLCBvcHRpb25zKSA9PiB7XHJcbiAgICAgICAgY29uc3QgcmVmID0gKGdldChfZmllbGRzLCBuYW1lLCB7IF9mOiB7fSB9KS5fZiB8fCB7fSkucmVmO1xyXG4gICAgICAgIHNldChfZm9ybVN0YXRlLmVycm9ycywgbmFtZSwgT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBlcnJvciksIHsgcmVmIH0pKTtcclxuICAgICAgICBfc3ViamVjdHMuc3RhdGUubmV4dCh7XHJcbiAgICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICAgIGVycm9yczogX2Zvcm1TdGF0ZS5lcnJvcnMsXHJcbiAgICAgICAgICAgIGlzVmFsaWQ6IGZhbHNlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG9wdGlvbnMgJiYgb3B0aW9ucy5zaG91bGRGb2N1cyAmJiByZWYgJiYgcmVmLmZvY3VzICYmIHJlZi5mb2N1cygpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IHdhdGNoID0gKGZpZWxkTmFtZSwgZGVmYXVsdFZhbHVlKSA9PiBpc0Z1bmN0aW9uKGZpZWxkTmFtZSlcclxuICAgICAgICA/IF9zdWJqZWN0cy53YXRjaC5zdWJzY3JpYmUoe1xyXG4gICAgICAgICAgICBuZXh0OiAoaW5mbykgPT4gZmllbGROYW1lKF9nZXRXYXRjaCh1bmRlZmluZWQsIGRlZmF1bHRWYWx1ZSksIGluZm8pLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgOiBfZ2V0V2F0Y2goZmllbGROYW1lLCBkZWZhdWx0VmFsdWUsIGZhbHNlLCB0cnVlKTtcclxuICAgIGNvbnN0IHVucmVnaXN0ZXIgPSAobmFtZSwgb3B0aW9ucyA9IHt9KSA9PiB7XHJcbiAgICAgICAgZm9yIChjb25zdCBpbnB1dE5hbWUgb2YgbmFtZSA/IGNvbnZlcnRUb0FycmF5UGF5bG9hZChuYW1lKSA6IF9uYW1lcy5tb3VudCkge1xyXG4gICAgICAgICAgICBfbmFtZXMubW91bnQuZGVsZXRlKGlucHV0TmFtZSk7XHJcbiAgICAgICAgICAgIF9uYW1lcy5hcnJheS5kZWxldGUoaW5wdXROYW1lKTtcclxuICAgICAgICAgICAgaWYgKGdldChfZmllbGRzLCBpbnB1dE5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMua2VlcFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdW5zZXQoX2ZpZWxkcywgaW5wdXROYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB1bnNldChfZm9ybVZhbHVlcywgaW5wdXROYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICFvcHRpb25zLmtlZXBFcnJvciAmJiB1bnNldChfZm9ybVN0YXRlLmVycm9ycywgaW5wdXROYW1lKTtcclxuICAgICAgICAgICAgICAgICFvcHRpb25zLmtlZXBEaXJ0eSAmJiB1bnNldChfZm9ybVN0YXRlLmRpcnR5RmllbGRzLCBpbnB1dE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgIW9wdGlvbnMua2VlcFRvdWNoZWQgJiYgdW5zZXQoX2Zvcm1TdGF0ZS50b3VjaGVkRmllbGRzLCBpbnB1dE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgIWZvcm1PcHRpb25zLnNob3VsZFVucmVnaXN0ZXIgJiZcclxuICAgICAgICAgICAgICAgICAgICAhb3B0aW9ucy5rZWVwRGVmYXVsdFZhbHVlICYmXHJcbiAgICAgICAgICAgICAgICAgICAgdW5zZXQoX2RlZmF1bHRWYWx1ZXMsIGlucHV0TmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgX3N1YmplY3RzLndhdGNoLm5leHQoe30pO1xyXG4gICAgICAgIF9zdWJqZWN0cy5zdGF0ZS5uZXh0KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgX2Zvcm1TdGF0ZSksICghb3B0aW9ucy5rZWVwRGlydHkgPyB7fSA6IHsgaXNEaXJ0eTogX2dldElzRGlydHkoKSB9KSkpO1xyXG4gICAgICAgICFvcHRpb25zLmtlZXBJc1ZhbGlkICYmIF91cGRhdGVWYWxpZCgpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IHJlZ2lzdGVyRmllbGRSZWYgPSAobmFtZSwgZmllbGRSZWYsIG9wdGlvbnMpID0+IHtcclxuICAgICAgICByZWdpc3RlcihuYW1lLCBvcHRpb25zKTtcclxuICAgICAgICBsZXQgZmllbGQgPSBnZXQoX2ZpZWxkcywgbmFtZSk7XHJcbiAgICAgICAgY29uc3QgcmVmID0gaXNVbmRlZmluZWQoZmllbGRSZWYudmFsdWUpXHJcbiAgICAgICAgICAgID8gZmllbGRSZWYucXVlcnlTZWxlY3RvckFsbFxyXG4gICAgICAgICAgICAgICAgPyBmaWVsZFJlZi5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCxzZWxlY3QsdGV4dGFyZWEnKVswXSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkUmVmXHJcbiAgICAgICAgICAgICAgICA6IGZpZWxkUmVmXHJcbiAgICAgICAgICAgIDogZmllbGRSZWY7XHJcbiAgICAgICAgY29uc3QgaXNSYWRpb09yQ2hlY2tib3ggPSBpc1JhZGlvT3JDaGVja2JveEZ1bmN0aW9uKHJlZik7XHJcbiAgICAgICAgaWYgKHJlZiA9PT0gZmllbGQuX2YucmVmIHx8XHJcbiAgICAgICAgICAgIChpc1JhZGlvT3JDaGVja2JveCAmJlxyXG4gICAgICAgICAgICAgICAgY29tcGFjdChmaWVsZC5fZi5yZWZzIHx8IFtdKS5maW5kKChvcHRpb24pID0+IG9wdGlvbiA9PT0gcmVmKSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaWVsZCA9IHtcclxuICAgICAgICAgICAgX2Y6IGlzUmFkaW9PckNoZWNrYm94XHJcbiAgICAgICAgICAgICAgICA/IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZmllbGQuX2YpLCB7IHJlZnM6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uY29tcGFjdChmaWVsZC5fZi5yZWZzIHx8IFtdKS5maWx0ZXIoKHJlZikgPT4gaXNIVE1MRWxlbWVudChyZWYpICYmIGRvY3VtZW50LmNvbnRhaW5zKHJlZikpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWYsXHJcbiAgICAgICAgICAgICAgICAgICAgXSwgcmVmOiB7IHR5cGU6IHJlZi50eXBlLCBuYW1lIH0gfSkgOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGZpZWxkLl9mKSwgeyByZWYgfSksXHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZXQoX2ZpZWxkcywgbmFtZSwgZmllbGQpO1xyXG4gICAgICAgICghb3B0aW9ucyB8fCAhb3B0aW9ucy5kaXNhYmxlZCkgJiYgX3VwZGF0ZVZhbGlkQW5kSW5wdXRWYWx1ZShuYW1lLCByZWYpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IHJlZ2lzdGVyID0gKG5hbWUsIG9wdGlvbnMgPSB7fSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGZpZWxkID0gZ2V0KF9maWVsZHMsIG5hbWUpO1xyXG4gICAgICAgIHNldChfZmllbGRzLCBuYW1lLCB7XHJcbiAgICAgICAgICAgIF9mOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgKGZpZWxkICYmIGZpZWxkLl9mID8gZmllbGQuX2YgOiB7IHJlZjogeyBuYW1lIH0gfSkpLCB7IG5hbWUsIG1vdW50OiB0cnVlIH0pLCBvcHRpb25zKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoIWlzVW5kZWZpbmVkKG9wdGlvbnMudmFsdWUpKSB7XHJcbiAgICAgICAgICAgIHNldChfZm9ybVZhbHVlcywgbmFtZSwgb3B0aW9ucy52YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc0Jvb2xlYW4ob3B0aW9ucy5kaXNhYmxlZCkgJiYgZmllbGQpIHtcclxuICAgICAgICAgICAgc2V0KF9mb3JtVmFsdWVzLCBuYW1lLCBvcHRpb25zLmRpc2FibGVkXHJcbiAgICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgOiBnZXQoX2Zvcm1WYWx1ZXMsIG5hbWUsIGdldEZpZWxkVmFsdWUoZmllbGQuX2YpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIF9uYW1lcy5tb3VudC5hZGQobmFtZSk7XHJcbiAgICAgICAgIWZpZWxkICYmIF91cGRhdGVWYWxpZEFuZElucHV0VmFsdWUobmFtZSwgdW5kZWZpbmVkLCB0cnVlKTtcclxuICAgICAgICByZXR1cm4gaXNXaW5kb3dVbmRlZmluZWRcclxuICAgICAgICAgICAgPyB7IG5hbWU6IG5hbWUgfVxyXG4gICAgICAgICAgICA6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7IG5hbWUgfSwgKGlzVW5kZWZpbmVkKG9wdGlvbnMuZGlzYWJsZWQpXHJcbiAgICAgICAgICAgICAgICA/IHt9XHJcbiAgICAgICAgICAgICAgICA6IHsgZGlzYWJsZWQ6IG9wdGlvbnMuZGlzYWJsZWQgfSkpLCB7IG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsIG9uQmx1cjogaGFuZGxlQ2hhbmdlLCByZWY6IChyZWYpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyRmllbGRSZWYobmFtZSwgcmVmLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkID0gZ2V0KF9maWVsZHMsIG5hbWUsIHt9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgX3Nob3VsZFVucmVnaXN0ZXIgPSBmb3JtT3B0aW9ucy5zaG91bGRVbnJlZ2lzdGVyIHx8IG9wdGlvbnMuc2hvdWxkVW5yZWdpc3RlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpZWxkLl9mKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWVsZC5fZi5tb3VudCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zaG91bGRVbnJlZ2lzdGVyICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhKGlzTmFtZUluRmllbGRBcnJheShfbmFtZXMuYXJyYXksIG5hbWUpICYmIF9pc0luQWN0aW9uKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX25hbWVzLnVuTW91bnQuYWRkKG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gfSk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgaGFuZGxlU3VibWl0ID0gKG9uVmFsaWQsIG9uSW52YWxpZCkgPT4gYXN5bmMgKGUpID0+IHtcclxuICAgICAgICBpZiAoZSkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0ICYmIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgZS5wZXJzaXN0ICYmIGUucGVyc2lzdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgaGFzTm9Qcm9taXNlRXJyb3IgPSB0cnVlO1xyXG4gICAgICAgIGxldCBmaWVsZFZhbHVlcyA9IE9iamVjdC5hc3NpZ24oe30sIF9mb3JtVmFsdWVzKTtcclxuICAgICAgICBfc3ViamVjdHMuc3RhdGUubmV4dCh7XHJcbiAgICAgICAgICAgIGlzU3VibWl0dGluZzogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZm9ybU9wdGlvbnMucmVzb2x2ZXIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgZXJyb3JzLCB2YWx1ZXMgfSA9IGF3YWl0IGV4ZWN1dGVSZXNvbHZlcigpO1xyXG4gICAgICAgICAgICAgICAgX2Zvcm1TdGF0ZS5lcnJvcnMgPSBlcnJvcnM7XHJcbiAgICAgICAgICAgICAgICBmaWVsZFZhbHVlcyA9IHZhbHVlcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHZhbGlkYXRlRm9ybShfZmllbGRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNFbXB0eU9iamVjdChfZm9ybVN0YXRlLmVycm9ycykgJiZcclxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKF9mb3JtU3RhdGUuZXJyb3JzKS5ldmVyeSgobmFtZSkgPT4gZ2V0KGZpZWxkVmFsdWVzLCBuYW1lKSkpIHtcclxuICAgICAgICAgICAgICAgIF9zdWJqZWN0cy5zdGF0ZS5uZXh0KHtcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcnM6IHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIGlzU3VibWl0dGluZzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgb25WYWxpZChmaWVsZFZhbHVlcywgZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBvbkludmFsaWQgJiYgKGF3YWl0IG9uSW52YWxpZChfZm9ybVN0YXRlLmVycm9ycywgZSkpO1xyXG4gICAgICAgICAgICAgICAgZm9ybU9wdGlvbnMuc2hvdWxkRm9jdXNFcnJvciAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGZvY3VzRmllbGRCeShfZmllbGRzLCAoa2V5KSA9PiBnZXQoX2Zvcm1TdGF0ZS5lcnJvcnMsIGtleSksIF9uYW1lcy5tb3VudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBoYXNOb1Byb21pc2VFcnJvciA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkge1xyXG4gICAgICAgICAgICBfZm9ybVN0YXRlLmlzU3VibWl0dGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgX3N1YmplY3RzLnN0YXRlLm5leHQoe1xyXG4gICAgICAgICAgICAgICAgaXNTdWJtaXR0ZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBpc1N1Ym1pdHRpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgaXNTdWJtaXRTdWNjZXNzZnVsOiBpc0VtcHR5T2JqZWN0KF9mb3JtU3RhdGUuZXJyb3JzKSAmJiBoYXNOb1Byb21pc2VFcnJvcixcclxuICAgICAgICAgICAgICAgIHN1Ym1pdENvdW50OiBfZm9ybVN0YXRlLnN1Ym1pdENvdW50ICsgMSxcclxuICAgICAgICAgICAgICAgIGVycm9yczogX2Zvcm1TdGF0ZS5lcnJvcnMsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCByZXNldCA9IChmb3JtVmFsdWVzLCBrZWVwU3RhdGVPcHRpb25zID0ge30pID0+IHtcclxuICAgICAgICBjb25zdCB1cGRhdGVkVmFsdWVzID0gZm9ybVZhbHVlcyB8fCBfZGVmYXVsdFZhbHVlcztcclxuICAgICAgICBjb25zdCB2YWx1ZXMgPSBjbG9uZU9iamVjdCh1cGRhdGVkVmFsdWVzKTtcclxuICAgICAgICBpZiAoIWtlZXBTdGF0ZU9wdGlvbnMua2VlcFZhbHVlcykge1xyXG4gICAgICAgICAgICBfZm9ybVZhbHVlcyA9IHByb3BzLnNob3VsZFVucmVnaXN0ZXIgPyB7fSA6IHZhbHVlcztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzV2ViICYmICFrZWVwU3RhdGVPcHRpb25zLmtlZXBWYWx1ZXMpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIF9uYW1lcy5tb3VudCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZmllbGQgPSBnZXQoX2ZpZWxkcywgbmFtZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZmllbGQgJiYgZmllbGQuX2YpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dFJlZiA9IEFycmF5LmlzQXJyYXkoZmllbGQuX2YucmVmcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBmaWVsZC5fZi5yZWZzWzBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogZmllbGQuX2YucmVmO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzSFRNTEVsZW1lbnQoaW5wdXRSZWYpICYmIGlucHV0UmVmLmNsb3Nlc3QoJ2Zvcm0nKS5yZXNldCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKF9hKSB7IH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWtlZXBTdGF0ZU9wdGlvbnMua2VlcERlZmF1bHRWYWx1ZXMpIHtcclxuICAgICAgICAgICAgX2RlZmF1bHRWYWx1ZXMgPSBPYmplY3QuYXNzaWduKHt9LCB1cGRhdGVkVmFsdWVzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFrZWVwU3RhdGVPcHRpb25zLmtlZXBWYWx1ZXMpIHtcclxuICAgICAgICAgICAgX2ZpZWxkcyA9IHt9O1xyXG4gICAgICAgICAgICBfc3ViamVjdHMuY29udHJvbC5uZXh0KHtcclxuICAgICAgICAgICAgICAgIHZhbHVlczoga2VlcFN0YXRlT3B0aW9ucy5rZWVwRGVmYXVsdFZhbHVlc1xyXG4gICAgICAgICAgICAgICAgICAgID8gX2RlZmF1bHRWYWx1ZXNcclxuICAgICAgICAgICAgICAgICAgICA6IE9iamVjdC5hc3NpZ24oe30sIHVwZGF0ZWRWYWx1ZXMpLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgX3N1YmplY3RzLndhdGNoLm5leHQoe30pO1xyXG4gICAgICAgICAgICBfc3ViamVjdHMuYXJyYXkubmV4dCh7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZXMsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBfbmFtZXMgPSB7XHJcbiAgICAgICAgICAgIG1vdW50OiBuZXcgU2V0KCksXHJcbiAgICAgICAgICAgIHVuTW91bnQ6IG5ldyBTZXQoKSxcclxuICAgICAgICAgICAgYXJyYXk6IG5ldyBTZXQoKSxcclxuICAgICAgICAgICAgd2F0Y2g6IG5ldyBTZXQoKSxcclxuICAgICAgICAgICAgd2F0Y2hBbGw6IGZhbHNlLFxyXG4gICAgICAgICAgICBmb2N1czogJycsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBfc3ViamVjdHMuc3RhdGUubmV4dCh7XHJcbiAgICAgICAgICAgIHN1Ym1pdENvdW50OiBrZWVwU3RhdGVPcHRpb25zLmtlZXBTdWJtaXRDb3VudFxyXG4gICAgICAgICAgICAgICAgPyBfZm9ybVN0YXRlLnN1Ym1pdENvdW50XHJcbiAgICAgICAgICAgICAgICA6IDAsXHJcbiAgICAgICAgICAgIGlzRGlydHk6IGtlZXBTdGF0ZU9wdGlvbnMua2VlcERpcnR5XHJcbiAgICAgICAgICAgICAgICA/IF9mb3JtU3RhdGUuaXNEaXJ0eVxyXG4gICAgICAgICAgICAgICAgOiBrZWVwU3RhdGVPcHRpb25zLmtlZXBEZWZhdWx0VmFsdWVzXHJcbiAgICAgICAgICAgICAgICAgICAgPyBkZWVwRXF1YWwoZm9ybVZhbHVlcywgX2RlZmF1bHRWYWx1ZXMpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBmYWxzZSxcclxuICAgICAgICAgICAgaXNTdWJtaXR0ZWQ6IGtlZXBTdGF0ZU9wdGlvbnMua2VlcElzU3VibWl0dGVkXHJcbiAgICAgICAgICAgICAgICA/IF9mb3JtU3RhdGUuaXNTdWJtaXR0ZWRcclxuICAgICAgICAgICAgICAgIDogZmFsc2UsXHJcbiAgICAgICAgICAgIGRpcnR5RmllbGRzOiBrZWVwU3RhdGVPcHRpb25zLmtlZXBEaXJ0eVxyXG4gICAgICAgICAgICAgICAgPyBfZm9ybVN0YXRlLmRpcnR5RmllbGRzXHJcbiAgICAgICAgICAgICAgICA6IHt9LFxyXG4gICAgICAgICAgICB0b3VjaGVkRmllbGRzOiBrZWVwU3RhdGVPcHRpb25zLmtlZXBUb3VjaGVkXHJcbiAgICAgICAgICAgICAgICA/IF9mb3JtU3RhdGUudG91Y2hlZEZpZWxkc1xyXG4gICAgICAgICAgICAgICAgOiB7fSxcclxuICAgICAgICAgICAgZXJyb3JzOiBrZWVwU3RhdGVPcHRpb25zLmtlZXBFcnJvcnNcclxuICAgICAgICAgICAgICAgID8gX2Zvcm1TdGF0ZS5lcnJvcnNcclxuICAgICAgICAgICAgICAgIDoge30sXHJcbiAgICAgICAgICAgIGlzU3VibWl0dGluZzogZmFsc2UsXHJcbiAgICAgICAgICAgIGlzU3VibWl0U3VjY2Vzc2Z1bDogZmFsc2UsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgX2lzTW91bnRlZCA9ICFfcHJveHlGb3JtU3RhdGUuaXNWYWxpZCB8fCAhIWtlZXBTdGF0ZU9wdGlvbnMua2VlcElzVmFsaWQ7XHJcbiAgICB9O1xyXG4gICAgY29uc3Qgc2V0Rm9jdXMgPSAobmFtZSkgPT4gZ2V0KF9maWVsZHMsIG5hbWUpLl9mLnJlZi5mb2N1cygpO1xyXG4gICAgY29uc3QgX3JlbW92ZUZpZWxkcyA9ICgpID0+IHtcclxuICAgICAgICBmb3IgKGNvbnN0IG5hbWUgb2YgX25hbWVzLnVuTW91bnQpIHtcclxuICAgICAgICAgICAgY29uc3QgZmllbGQgPSBnZXQoX2ZpZWxkcywgbmFtZSk7XHJcbiAgICAgICAgICAgIGZpZWxkICYmXHJcbiAgICAgICAgICAgICAgICAoZmllbGQuX2YucmVmcyA/IGZpZWxkLl9mLnJlZnMuZXZlcnkobGl2ZSkgOiBsaXZlKGZpZWxkLl9mLnJlZikpICYmXHJcbiAgICAgICAgICAgICAgICB1bnJlZ2lzdGVyKG5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBfbmFtZXMudW5Nb3VudCA9IG5ldyBTZXQoKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGNvbnRyb2w6IHtcclxuICAgICAgICAgICAgcmVnaXN0ZXIsXHJcbiAgICAgICAgICAgIHVucmVnaXN0ZXIsXHJcbiAgICAgICAgICAgIF9nZXRXYXRjaCxcclxuICAgICAgICAgICAgX2dldElzRGlydHksXHJcbiAgICAgICAgICAgIF91cGRhdGVWYWxpZCxcclxuICAgICAgICAgICAgX3VwZGF0ZVZhbHVlcyxcclxuICAgICAgICAgICAgX3JlbW92ZUZpZWxkcyxcclxuICAgICAgICAgICAgX3VwZGF0ZUZpZWxkQXJyYXksXHJcbiAgICAgICAgICAgIF9nZXRGaWVsZEFycmF5VmFsdWUsXHJcbiAgICAgICAgICAgIF9zdWJqZWN0cyxcclxuICAgICAgICAgICAgX3Nob3VsZFVucmVnaXN0ZXI6IGZvcm1PcHRpb25zLnNob3VsZFVucmVnaXN0ZXIsXHJcbiAgICAgICAgICAgIF9wcm94eUZvcm1TdGF0ZSxcclxuICAgICAgICAgICAgZ2V0IF9maWVsZHMoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX2ZpZWxkcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0IF9maWVsZHModmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIF9maWVsZHMgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0IF9mb3JtVmFsdWVzKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9mb3JtVmFsdWVzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQgX2Zvcm1WYWx1ZXModmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIF9mb3JtVmFsdWVzID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldCBfaXNNb3VudGVkKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9pc01vdW50ZWQ7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldCBfaXNNb3VudGVkKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBfaXNNb3VudGVkID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldCBfZGVmYXVsdFZhbHVlcygpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfZGVmYXVsdFZhbHVlcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0IF9kZWZhdWx0VmFsdWVzKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBfZGVmYXVsdFZhbHVlcyA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXQgX25hbWVzKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9uYW1lcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0IF9uYW1lcyh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgX25hbWVzID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldCBfaXNJbkFjdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfaXNJbkFjdGlvbjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0IF9pc0luQWN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBfaXNJbkFjdGlvbiA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXQgX2Zvcm1TdGF0ZSgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfZm9ybVN0YXRlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQgX2Zvcm1TdGF0ZSh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgX2Zvcm1TdGF0ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBfdXBkYXRlUHJvcHM6IChvcHRpb25zKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBmb3JtT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdE9wdGlvbnMpLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRyaWdnZXIsXHJcbiAgICAgICAgcmVnaXN0ZXIsXHJcbiAgICAgICAgaGFuZGxlU3VibWl0LFxyXG4gICAgICAgIHdhdGNoLFxyXG4gICAgICAgIHNldFZhbHVlLFxyXG4gICAgICAgIGdldFZhbHVlcyxcclxuICAgICAgICByZXNldCxcclxuICAgICAgICBjbGVhckVycm9ycyxcclxuICAgICAgICB1bnJlZ2lzdGVyLFxyXG4gICAgICAgIHNldEVycm9yLFxyXG4gICAgICAgIHNldEZvY3VzLFxyXG4gICAgfTtcclxufVxuXG5mdW5jdGlvbiB1c2VGb3JtKHByb3BzID0ge30pIHtcclxuICAgIGNvbnN0IF9mb3JtQ29udHJvbCA9IFJlYWN0LnVzZVJlZigpO1xyXG4gICAgY29uc3QgW2Zvcm1TdGF0ZSwgdXBkYXRlRm9ybVN0YXRlXSA9IFJlYWN0LnVzZVN0YXRlKHtcclxuICAgICAgICBpc0RpcnR5OiBmYWxzZSxcclxuICAgICAgICBpc1ZhbGlkYXRpbmc6IGZhbHNlLFxyXG4gICAgICAgIGRpcnR5RmllbGRzOiB7fSxcclxuICAgICAgICBpc1N1Ym1pdHRlZDogZmFsc2UsXHJcbiAgICAgICAgc3VibWl0Q291bnQ6IDAsXHJcbiAgICAgICAgdG91Y2hlZEZpZWxkczoge30sXHJcbiAgICAgICAgaXNTdWJtaXR0aW5nOiBmYWxzZSxcclxuICAgICAgICBpc1N1Ym1pdFN1Y2Nlc3NmdWw6IGZhbHNlLFxyXG4gICAgICAgIGlzVmFsaWQ6IGZhbHNlLFxyXG4gICAgICAgIGVycm9yczoge30sXHJcbiAgICB9KTtcclxuICAgIGlmIChfZm9ybUNvbnRyb2wuY3VycmVudCkge1xyXG4gICAgICAgIF9mb3JtQ29udHJvbC5jdXJyZW50LmNvbnRyb2wuX3VwZGF0ZVByb3BzKHByb3BzKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIF9mb3JtQ29udHJvbC5jdXJyZW50ID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBjcmVhdGVGb3JtQ29udHJvbChwcm9wcykpLCB7IGZvcm1TdGF0ZSB9KTtcclxuICAgIH1cclxuICAgIGNvbnN0IGNvbnRyb2wgPSBfZm9ybUNvbnRyb2wuY3VycmVudC5jb250cm9sO1xyXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcclxuICAgICAgICBjb25zdCBmb3JtU3RhdGVTdWJzY3JpcHRpb24gPSBjb250cm9sLl9zdWJqZWN0cy5zdGF0ZS5zdWJzY3JpYmUoe1xyXG4gICAgICAgICAgICBuZXh0KGZvcm1TdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZFJlbmRlckZvcm1TdGF0ZShmb3JtU3RhdGUsIGNvbnRyb2wuX3Byb3h5Rm9ybVN0YXRlLCB0cnVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2wuX2Zvcm1TdGF0ZSA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgY29udHJvbC5fZm9ybVN0YXRlKSwgZm9ybVN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVGb3JtU3RhdGUoT2JqZWN0LmFzc2lnbih7fSwgY29udHJvbC5fZm9ybVN0YXRlKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgZm9ybVN0YXRlU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XHJcbiAgICAgICAgfTtcclxuICAgIH0sIFtjb250cm9sXSk7XHJcbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIGlmICghY29udHJvbC5faXNNb3VudGVkKSB7XHJcbiAgICAgICAgICAgIGNvbnRyb2wuX2lzTW91bnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGNvbnRyb2wuX3Byb3h5Rm9ybVN0YXRlLmlzVmFsaWQgJiYgY29udHJvbC5fdXBkYXRlVmFsaWQoKTtcclxuICAgICAgICAgICAgIXByb3BzLnNob3VsZFVucmVnaXN0ZXIgJiYgY29udHJvbC5fdXBkYXRlVmFsdWVzKGNvbnRyb2wuX2RlZmF1bHRWYWx1ZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb250cm9sLl9yZW1vdmVGaWVsZHMoKTtcclxuICAgIH0pO1xyXG4gICAgX2Zvcm1Db250cm9sLmN1cnJlbnQuZm9ybVN0YXRlID0gZ2V0UHJveHlGb3JtU3RhdGUoZm9ybVN0YXRlLCBjb250cm9sLl9wcm94eUZvcm1TdGF0ZSk7XHJcbiAgICByZXR1cm4gX2Zvcm1Db250cm9sLmN1cnJlbnQ7XHJcbn1cblxuZnVuY3Rpb24gdXNlV2F0Y2gocHJvcHMpIHtcclxuICAgIGNvbnN0IG1ldGhvZHMgPSB1c2VGb3JtQ29udGV4dCgpO1xyXG4gICAgY29uc3QgeyBjb250cm9sID0gbWV0aG9kcy5jb250cm9sLCBuYW1lLCBkZWZhdWx0VmFsdWUsIGRpc2FibGVkLCB9ID0gcHJvcHMgfHwge307XHJcbiAgICBjb25zdCBfbmFtZSA9IFJlYWN0LnVzZVJlZihuYW1lKTtcclxuICAgIF9uYW1lLmN1cnJlbnQgPSBuYW1lO1xyXG4gICAgY29uc3QgW3ZhbHVlLCB1cGRhdGVWYWx1ZV0gPSBSZWFjdC51c2VTdGF0ZShpc1VuZGVmaW5lZChkZWZhdWx0VmFsdWUpXHJcbiAgICAgICAgPyBjb250cm9sLl9nZXRXYXRjaChuYW1lKVxyXG4gICAgICAgIDogZGVmYXVsdFZhbHVlKTtcclxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgY29uc3Qgd2F0Y2hTdWJzY3JpcHRpb24gPSBjb250cm9sLl9zdWJqZWN0cy53YXRjaC5zdWJzY3JpYmUoe1xyXG4gICAgICAgICAgICBuZXh0OiAoeyBuYW1lIH0pID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghX25hbWUuY3VycmVudCB8fFxyXG4gICAgICAgICAgICAgICAgICAgICFuYW1lIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgY29udmVydFRvQXJyYXlQYXlsb2FkKF9uYW1lLmN1cnJlbnQpLnNvbWUoKGZpZWxkTmFtZSkgPT4gbmFtZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZE5hbWUgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGZpZWxkTmFtZS5zdGFydHNXaXRoKG5hbWUpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lLnN0YXJ0c1dpdGgoZmllbGROYW1lKSkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gY29udHJvbC5fZ2V0V2F0Y2goX25hbWUuY3VycmVudCwgZGVmYXVsdFZhbHVlLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVWYWx1ZShpc09iamVjdChyZXN1bHQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgID8gT2JqZWN0LmFzc2lnbih7fSwgcmVzdWx0KSA6IEFycmF5LmlzQXJyYXkocmVzdWx0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IFsuLi5yZXN1bHRdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcmVzdWx0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgICAgICBkaXNhYmxlZCAmJiB3YXRjaFN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB3YXRjaFN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xyXG4gICAgfSwgW2Rpc2FibGVkLCBjb250cm9sLCBkZWZhdWx0VmFsdWVdKTtcclxuICAgIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgY29udHJvbC5fcmVtb3ZlRmllbGRzKCk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxuXG5leHBvcnQgeyBDb250cm9sbGVyLCBGb3JtUHJvdmlkZXIsIGFwcGVuZEVycm9ycywgZ2V0LCBzZXQsIHVzZUNvbnRyb2xsZXIsIHVzZUZpZWxkQXJyYXksIHVzZUZvcm0sIHVzZUZvcm1Db250ZXh0LCB1c2VGb3JtU3RhdGUsIHVzZVdhdGNoIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lc20uanMubWFwXG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn0iXSwibmFtZXMiOlsiaXNDaGVja0JveElucHV0IiwiZWxlbWVudCIsInR5cGUiLCJpc0RhdGVPYmplY3QiLCJkYXRhIiwiRGF0ZSIsImlzTnVsbE9yVW5kZWZpbmVkIiwidmFsdWUiLCJpc09iamVjdFR5cGUiLCJpc09iamVjdCIsIkFycmF5IiwiaXNBcnJheSIsImdldE5vZGVQYXJlbnROYW1lIiwibmFtZSIsInN1YnN0cmluZyIsInNlYXJjaCIsImNvbXBhY3QiLCJmaWx0ZXIiLCJCb29sZWFuIiwiaXNVbmRlZmluZWQiLCJ2YWwiLCJ1bmRlZmluZWQiLCJnZXQiLCJvYmoiLCJwYXRoIiwiZGVmYXVsdFZhbHVlIiwicmVzdWx0Iiwic3BsaXQiLCJyZWR1Y2UiLCJrZXkiLCJWQUxJREFUSU9OX01PREUiLCJJTlBVVF9WQUxJREFUSU9OX1JVTEVTIiwib21pdCIsInNvdXJjZSIsImNvcHkiLCJPYmplY3QiLCJhc3NpZ24iLCJkaXNwbGF5TmFtZSIsImlzRW1wdHlPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwiY29udmVydFRvQXJyYXlQYXlsb2FkIiwiYXBwZW5kRXJyb3JzIiwidmFsaWRhdGVBbGxGaWVsZENyaXRlcmlhIiwiZXJyb3JzIiwibWVzc2FnZSIsInR5cGVzIiwiaXNLZXkiLCJ0ZXN0Iiwic3RyaW5nVG9QYXRoIiwiaW5wdXQiLCJyZXBsYWNlIiwic2V0Iiwib2JqZWN0IiwiaW5kZXgiLCJ0ZW1wUGF0aCIsImxhc3RJbmRleCIsIm5ld1ZhbHVlIiwib2JqVmFsdWUiLCJpc05hTiIsImZvY3VzRmllbGRCeSIsImZpZWxkcyIsImNhbGxiYWNrIiwiZmllbGRzTmFtZXMiLCJmaWVsZCIsIl9mIiwiY3VycmVudCIsInJlZiIsImZvY3VzIiwicmVmcyIsImNsb25lT2JqZWN0IiwiZ2V0VGltZSIsImlzUHJpbWl0aXZlIiwiZGVlcEVxdWFsIiwib2JqZWN0MSIsIm9iamVjdDIiLCJrZXlzMSIsImtleXMyIiwidmFsMSIsImluY2x1ZGVzIiwidmFsMiIsImdldFZhbGlkYXRpb25Nb2RlcyIsIm1vZGUiLCJpc09uU3VibWl0IiwiaXNPbkJsdXIiLCJpc09uQ2hhbmdlIiwiaXNPbkFsbCIsImlzT25Ub3VjaCIsImlzQm9vbGVhbiIsImlzRmlsZUlucHV0IiwiaXNGdW5jdGlvbiIsImlzSFRNTEVsZW1lbnQiLCJIVE1MRWxlbWVudCIsImlzTXVsdGlwbGVTZWxlY3QiLCJpc1JhZGlvSW5wdXQiLCJpc1N0cmluZyIsImlzV2ViIiwid2luZG93IiwiZG9jdW1lbnQiLCJsaXZlIiwiY29udGFpbnMiLCJvbWl0S2V5Iiwia2V5TmFtZSIsIm1hcCIsIlN1YnNjcmlwdGlvbiIsImNvbnN0cnVjdG9yIiwidGhpcyIsInRlYXJEb3ducyIsImFkZCIsInRlYXJEb3duIiwicHVzaCIsInVuc3Vic2NyaWJlIiwidGVhcmRvd24iLCJTdWJzY3JpYmVyIiwib2JzZXJ2ZXIiLCJzdWJzY3JpcHRpb24iLCJjbG9zZWQiLCJuZXh0IiwiU3ViamVjdCIsIm9ic2VydmVycyIsInN1YnNjcmliZSIsInN1YnNjcmliZXIiLCJ1bnNldCIsInVwZGF0ZVBhdGgiLCJjaGlsZE9iamVjdCIsInNsaWNlIiwiYmFzZUdldCIsInByZXZpb3VzT2JqUmVmIiwiayIsIm9iamVjdFJlZiIsImN1cnJlbnRQYXRocyIsImN1cnJlbnRQYXRoc0xlbmd0aCIsIml0ZW0iLCJkZWZhdWx0UmVzdWx0IiwiaXNWYWxpZCIsInZhbGlkUmVzdWx0IiwiZ2V0Q2hlY2tib3hWYWx1ZSIsIm9wdGlvbnMiLCJ2YWx1ZXMiLCJvcHRpb24iLCJjaGVja2VkIiwiZGlzYWJsZWQiLCJhdHRyaWJ1dGVzIiwiZ2V0RmllbGRWYWx1ZUFzIiwidmFsdWVBc051bWJlciIsInZhbHVlQXNEYXRlIiwic2V0VmFsdWVBcyIsIk5hTiIsImRlZmF1bHRSZXR1cm4iLCJnZXRSYWRpb1ZhbHVlIiwicHJldmlvdXMiLCJnZXRGaWVsZFZhbHVlIiwiZXZlcnkiLCJmaWxlcyIsInNlbGVjdGVkIiwiZGVlcE1lcmdlIiwidGFyZ2V0IiwidGFyZ2V0VmFsdWUiLCJzb3VyY2VWYWx1ZSIsIl9hIiwic2V0RGlydHlGaWVsZHMiLCJkZWZhdWx0VmFsdWVzIiwiZGlydHlGaWVsZHMiLCJwYXJlbnROb2RlIiwicGFyZW50TmFtZSIsInNldEZpZWxkQXJyYXlEaXJ0eUZpZWxkcyIsInVuc2V0RW1wdHlBcnJheSIsImlzTWVzc2FnZSIsImlzUmVnZXgiLCJSZWdFeHAiLCJnZXRWYWxpZGF0ZUVycm9yIiwiZ2V0VmFsdWVBbmRNZXNzYWdlIiwidmFsaWRhdGlvbkRhdGEiLCJ2YWxpZGF0ZUZpZWxkIiwiYXN5bmMiLCJpbnB1dFZhbHVlIiwic2hvdWxkVXNlTmF0aXZlVmFsaWRhdGlvbiIsInJlcXVpcmVkIiwibWF4TGVuZ3RoIiwibWluTGVuZ3RoIiwibWluIiwibWF4IiwicGF0dGVybiIsInZhbGlkYXRlIiwibW91bnQiLCJpbnB1dFJlZiIsInNldEN1c3RvbVZhbGlkdHkiLCJyZXBvcnRWYWxpZGl0eSIsInNldEN1c3RvbVZhbGlkaXR5IiwiZXJyb3IiLCJpc1JhZGlvIiwiaXNDaGVja0JveCIsImlzUmFkaW9PckNoZWNrYm94IiwiaXNFbXB0eSIsImFwcGVuZEVycm9yc0N1cnJ5IiwiYmluZCIsImdldE1pbk1heE1lc3NhZ2UiLCJleGNlZWRNYXgiLCJtYXhMZW5ndGhNZXNzYWdlIiwibWluTGVuZ3RoTWVzc2FnZSIsIm1heFR5cGUiLCJtaW5UeXBlIiwiZXhjZWVkTWluIiwibWF4T3V0cHV0IiwibWluT3V0cHV0IiwidmFsdWVEYXRlIiwidmFsdWVOdW1iZXIiLCJwYXJzZUZsb2F0IiwibWF4TGVuZ3RoT3V0cHV0IiwibWluTGVuZ3RoT3V0cHV0IiwicGF0dGVyblZhbHVlIiwibWF0Y2giLCJ2YWxpZGF0ZUVycm9yIiwidmFsaWRhdGlvblJlc3VsdCIsImRlZmF1bHRPcHRpb25zIiwicmVWYWxpZGF0ZU1vZGUiLCJzaG91bGRGb2N1c0Vycm9yIiwiaXNXaW5kb3dVbmRlZmluZWQiLCJjcmVhdGVGb3JtQ29udHJvbCIsInByb3BzIiwiX2RlbGF5Q2FsbGJhY2siLCJmb3JtT3B0aW9ucyIsIl9mb3JtU3RhdGUiLCJpc0RpcnR5IiwiaXNWYWxpZGF0aW5nIiwiaXNTdWJtaXR0ZWQiLCJzdWJtaXRDb3VudCIsInRvdWNoZWRGaWVsZHMiLCJpc1N1Ym1pdHRpbmciLCJpc1N1Ym1pdFN1Y2Nlc3NmdWwiLCJfZmllbGRzIiwiX2Zvcm1WYWx1ZXMiLCJfZGVmYXVsdFZhbHVlcyIsIl9pc0luQWN0aW9uIiwiX2lzTW91bnRlZCIsIl90aW1lciIsIl9uYW1lcyIsIlNldCIsInVuTW91bnQiLCJhcnJheSIsIndhdGNoIiwiX3ZhbGlkYXRlQ291bnQiLCJfcHJveHlGb3JtU3RhdGUiLCJfc3ViamVjdHMiLCJjb250cm9sIiwic3RhdGUiLCJ2YWxpZGF0aW9uTW9kZSIsImlzVmFsaWRhdGVBbGxGaWVsZENyaXRlcmlhIiwiY3JpdGVyaWFNb2RlIiwiaXNGaWVsZFdhdGNoZWQiLCJ3YXRjaEFsbCIsImhhcyIsInVwZGF0ZUVycm9yU3RhdGUiLCJzZXRGaWVsZFZhbHVlIiwic2hvdWxkUmVuZGVyIiwiZmllbGRWYWx1ZSIsImZvckVhY2giLCJzZWxlY3RSZWYiLCJjaGVja2JveFJlZiIsImZpbmQiLCJyYWRpb1JlZiIsImdldFZhbHVlcyIsInNob3VsZERpcnR5Iiwic2hvdWxkVG91Y2giLCJ1cGRhdGVUb3VjaEFuZERpcnR5U3RhdGUiLCJzaG91bGRWYWxpZGF0ZSIsInRyaWdnZXIiLCJpc0N1cnJlbnRUb3VjaGVkIiwiaXNDaGFuZ2VkIiwicHJldmlvdXNJc0RpcnR5IiwiX2dldElzRGlydHkiLCJpc1ByZXZpb3VzRmllbGREaXJ0eSIsImlzUHJldmlvdXNGaWVsZFRvdWNoZWQiLCJleGVjdXRlUmVzb2x2ZXIiLCJyZXNvbHZlciIsImNvbnRleHQiLCJfZmllbGRzcyIsIm5hbWVzIiwiZ2V0UmVzb2x2ZXJPcHRpb25zIiwidmFsaWRhdGVGb3JtIiwic2hvdWxkQ2hlY2tWYWxpZCIsInZhbGlkIiwiZmllbGRFcnJvciIsImhhbmRsZUNoYW5nZSIsImlucHV0VHlwZSIsImlzQmx1ckV2ZW50Iiwic2hvdWxkU2tpcFZhbGlkYXRpb24iLCJkZXBzIiwiaXNUb3VjaGVkIiwic2tpcFZhbGlkYXRpb24iLCJpc1dhdGNoZWQiLCJmaWVsZFN0YXRlIiwicGFyZW50Tm9kZU5hbWUiLCJwYXJlbnRGaWVsZCIsInBhcmVudEVycm9yIiwiX3VwZGF0ZVZhbGlkIiwic2hvdWxkU2tpcFJlbmRlciIsInByZXZpb3VzRXJyb3IiLCJzaG91bGRVcGRhdGVWYWxpZCIsIndhaXQiLCJkZWxheUVycm9yIiwiYXJncyIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJ1cGRhdGVkRm9ybVN0YXRlIiwic2hvdWxkUmVuZGVyQmFzZU9uRXJyb3IiLCJfdXBkYXRlVmFsaWRBbmRJbnB1dFZhbHVlIiwic2hvdWxkU2tpcFZhbHVlQXMiLCJkZWZhdWx0Q2hlY2tlZCIsInNraXBSZW5kZXIiLCJzZXRWYWx1ZXMiLCJlbnRyaWVzIiwiZmllbGRLZXkiLCJmaWVsZE5hbWUiLCJfZ2V0V2F0Y2giLCJmaWVsZE5hbWVzIiwiaXNNb3VudGVkIiwiaXNHbG9iYWwiLCJmaWVsZFZhbHVlcyIsIl91cGRhdGVWYWx1ZXMiLCJzY2hlbWFSZXN1bHQiLCJleGVjdXRlUmVzb2x2ZXJWYWxpZGF0aW9uIiwiUHJvbWlzZSIsImFsbCIsInNob3VsZEZvY3VzIiwidW5yZWdpc3RlciIsImlucHV0TmFtZSIsImRlbGV0ZSIsImtlZXBWYWx1ZSIsImtlZXBFcnJvciIsImtlZXBEaXJ0eSIsImtlZXBUb3VjaGVkIiwic2hvdWxkVW5yZWdpc3RlciIsImtlZXBEZWZhdWx0VmFsdWUiLCJrZWVwSXNWYWxpZCIsInJlZ2lzdGVyIiwib25DaGFuZ2UiLCJvbkJsdXIiLCJmaWVsZFJlZiIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpc1JhZGlvT3JDaGVja2JveEZ1bmN0aW9uIiwicmVnaXN0ZXJGaWVsZFJlZiIsIl9zaG91bGRVbnJlZ2lzdGVyIiwic29tZSIsImlzTmFtZUluRmllbGRBcnJheSIsIl9yZW1vdmVGaWVsZHMiLCJfdXBkYXRlRmllbGRBcnJheSIsIm1ldGhvZCIsInVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzV2l0aEtleSIsInNob3VsZFNldCIsInNob3VsZFNldEZpZWxkcyIsIm91dHB1dCIsInVwZGF0ZWRGaWVsZEFycmF5VmFsdWVzIiwiYXJnQSIsImFyZ0IiLCJfZ2V0RmllbGRBcnJheVZhbHVlIiwiX3VwZGF0ZVByb3BzIiwiaGFuZGxlU3VibWl0Iiwib25WYWxpZCIsIm9uSW52YWxpZCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInBlcnNpc3QiLCJoYXNOb1Byb21pc2VFcnJvciIsImVyciIsImluZm8iLCJzZXRWYWx1ZSIsImlzRmllbGRBcnJheSIsInJlc2V0IiwiZm9ybVZhbHVlcyIsImtlZXBTdGF0ZU9wdGlvbnMiLCJ1cGRhdGVkVmFsdWVzIiwia2VlcFZhbHVlcyIsImNsb3Nlc3QiLCJrZWVwRGVmYXVsdFZhbHVlcyIsImtlZXBTdWJtaXRDb3VudCIsImtlZXBJc1N1Ym1pdHRlZCIsImtlZXBFcnJvcnMiLCJjbGVhckVycm9ycyIsInNldEVycm9yIiwic2V0Rm9jdXMiLCJ1c2VGb3JtIiwiX2Zvcm1Db250cm9sIiwiZm9ybVN0YXRlIiwidXBkYXRlRm9ybVN0YXRlIiwiZm9ybVN0YXRlU3Vic2NyaXB0aW9uIiwiZm9ybVN0YXRlRGF0YSIsImlzUm9vdCIsInNob3VsZFJlbmRlckZvcm1TdGF0ZSIsImxvY2FsUHJveHlGb3JtU3RhdGUiLCJjcmVhdGVHZXR0ZXIiLCJwcm9wIiwiZGVmaW5lUHJvcGVydHkiLCJnZXRQcm94eUZvcm1TdGF0ZSIsIl9kZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSJdLCJzb3VyY2VSb290IjoiIn0=